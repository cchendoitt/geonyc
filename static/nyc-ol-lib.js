!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=426)}({0:function(t){t.exports=jQuery},105:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=n(0),h=n.n(p),y=n(2),d=n(19),m=n(31),g=n(124),b=n(207),v=n.n(b),w=n(208),O=n.n(w),_=n(209),k=n.n(_),j=n(210),S=n.n(j),E=n(211),T=n.n(E),P=n(212),x=n.n(P),C=n(125),R=n.n(C),L=n(213),A=n.n(L),D=n(139),F=n.n(D),I=n(107),B=n.n(I),M=n(108),N=n.n(M),z=n(49),G=n.n(z),U=y.a.proj4,H=function(t){function e(t,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.view instanceof F.a;return e.setupView(t),t.interactions||(t.interactions=[new O.a,new k.a,new A.a,new T.a,new x.a,new R.a,new S.a]),o=n.call(this,t),y.a.mixin(l(o),[m.a]),o.latestPhoto=0,o.base=null,o.altBasemap=null,o.labels={},o.photos={},o.storage=new g.a,o.setupLayers(t,r),o.defaultExtent(i),o.hookupEvents(o.getTargetElement()),o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t);var n=c(e);return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(e,[{key:"saveGeoJson",value:function(t,e){var n=new G.a({featureProjection:this.getView().getProjection(),dataProjection:"EPSG:4326"});this.storage.saveGeoJson(e||"layer.json",n.writeFeatures(t.getFeatures()))}},{key:"showPhoto",value:function(t){this.hidePhoto(),this.photos[(t||this.latestPhoto)+""].setVisible(!0),this.showLabels("photo")}},{key:"hidePhoto",value:function(){this[this.altBasemap?"altBasemap":"base"].setVisible(!0),this.showLabels(m.a.LabelType.BASE),Object.entries(this.photos).forEach((function(t){var e=o(t,2);e[0];e[1].setVisible(!1)}))}},{key:"showLabels",value:function(t){this.altBasemap||this.labels.base.setVisible(t===m.a.LabelType.BASE),this.labels.photo.setVisible(t===m.a.LabelType.PHOTO)}},{key:"getBaseLayers",value:function(){return{altBasemap:this.altBasemap,base:this.base,labels:this.labels,photos:this.photos}}},{key:"getStorage",value:function(){return this.storage}},{key:"defaultExtent",value:function(t){t||this.getView().fit(e.EXTENT,this.getSize())}},{key:"setupLayers",value:function(t,n){var r=this,i="EPSG:3857";t.altBasemap?(this.altBasemap=new N.a({source:new B.a({urls:e.ALT_BASEMAP_URLS})}),this.addLayer(this.altBasemap)):(this.base=new N.a({extent:this.layerExtent(e.UNIVERSE_EXTENT,t.view),source:new B.a({url:e.BASE_URL,projection:i}),preload:n||0}),this.addLayer(this.base)),Object.entries(e.LABEL_URLS).forEach((function(n){var a=o(n,2),s=a[0],c=a[1];r.altBasemap&&"photo"!==s||(r.labels[s]=new N.a({extent:r.layerExtent(e.LABEL_EXTENT,t.view),source:new B.a({url:c,projection:i}),zIndex:1e3,visible:s===m.a.LabelType.BASE}),r.addLayer(r.labels[s]))})),Object.entries(e.PHOTO_URLS).forEach((function(n){var a=o(n,2),s=a[0],c=a[1],u=new N.a({extent:r.layerExtent(e.PHOTO_EXTENT,t.view),source:new B.a({url:c,projection:i}),visible:!1});1*s.split("-")[0]>r.latestPhoto&&(r.latestPhoto=s),u.set("name",s),r.addLayer(u),u.on("change:visible",h.a.proxy(r.photoChange,r)),r.photos[s]=u}))}},{key:"layerExtent",value:function(t,e){if(e&&"EPSG:3857"!==e.getProjection().getCode()){var n="EPSG:3857",r="EPSG:2263",o=U(n,r,[t[0],t[1]]),i=U(n,r,[t[2],t[3]]);return[o[0],o[1],i[0],i[1]]}return t}},{key:"photoChange",value:function(){var t=this,e=!1;Object.entries(this.photos).some((function(n){var r=o(n,2),i=(r[0],r[1]);if(e=i.getVisible())return t.showLabels(m.a.LabelType.PHOTO),!0})),e||this.showLabels(m.a.LabelType.BASE)}}]),e}(v.a);H.setupView=function(t){t.view instanceof F.a||(t.view=new F.a({center:H.CENTER,minZoom:8,maxZoom:21,zoom:8,constrainRotation:1}))},H.BASE_URL="https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/carto/basemap/{z}/{x}/{-y}.jpg"),H.PHOTO_URLS={1924:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/1924/{z}/{x}/{-y}.png8"),1951:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/1951/{z}/{x}/{-y}.png8"),1996:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/1996/{z}/{x}/{-y}.png8"),"2001-2":"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2001-2/{z}/{x}/{-y}.png8"),2004:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2004/{z}/{x}/{-y}.png8"),2006:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2006/{z}/{x}/{-y}.png8"),2008:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2008/{z}/{x}/{-y}.png8"),2010:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2010/{z}/{x}/{-y}.png8"),2012:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2012/{z}/{x}/{-y}.png8"),2014:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2014/{z}/{x}/{-y}.png8"),2016:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2016/{z}/{x}/{-y}.png8"),2018:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/photo/2018/{z}/{x}/{-y}.png8")},H.ALT_BASEMAP_URLS=["https://cartodb-basemaps-1.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png","https://cartodb-basemaps-2.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png","https://cartodb-basemaps-3.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png","https://cartodb-basemaps-4.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],H.LABEL_URLS={base:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/carto/label/{z}/{x}/{-y}.png8"),photo:"https://".concat(d.a.TILE_HOSTS,"/tms/1.0.0/carto/label-lt/{z}/{x}/{-y}.png8")},H.UNIVERSE_EXTENT=[-8453323,4774561,-7983695,5165920],H.EXTENT=[-8266522,4937867,-8203781,5000276],H.CENTER=[-8235252,4969073],H.LABEL_EXTENT=[-8268e3,4870900,-8005e3,5055500],H.PHOTO_EXTENT=[-8268357,4937238,-8203099,5001716],e.a=H},106:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=n(2),h=n(3),y=n(55),d=n(41),m=n(86),g=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t.target)).choiceControls=[],r.source=t.source,t.choiceOptions.forEach((function(t){var e,n=f()('<div class="'.concat(p.a.nextId("filter"),'"></div>'));t.target=t.target||f()('<div class="'.concat(p.a.nextId("filter-chc"),'"></div>')),r.append(f()(n)),e=!0===t.toggle?new m.a(t):new d.a(t),new y.a({target:n,title:t.title,content:e.getContainer()}),e.on("change",f.a.proxy(r.filter,c(r))),r.choiceControls.push(e)})),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"filter",value:function(){this.source.filter(this.getFilters()),this.trigger("change",this)}},{key:"getFilters",value:function(){var t=[];return this.choiceControls.forEach((function(e){var n={},r=[];e.val().forEach((function(t){var e=n[t.name]||[];n[t.name]=e.concat(t.values)})),Object.keys(n).forEach((function(t){r.push({property:t,values:p.a.removeDups(n[t])})})),r.length&&t.push(r)})),t}}]),e}(h.a);g.Options,g.ChoiceOptions,e.a=g},107:function(t){t.exports=ol.source.XYZ},108:function(t){t.exports=ol.layer.Tile},12:function(t,e,n){"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}function o(t){return 180*t/s}function i(t){return t*s/180}function a(t,e){var n=t%e;return 0>n*e?n+e:n}var s=Math.PI;Math.abs;n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return a}));var c="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};"log2"in Math&&Math.log2},123:function(t){t.exports=ol.proj.proj4},124:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return b}));var u=n(49),l=n.n(u),f=n(50),p=n.n(f),h=n(88),y=n.n(h),d=n(79),m=n(123),g=(n.n(m),n(2).a.proj4),b=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.call(this)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"addToMap",value:function(t,e,n){var o={featureProjection:t.getView().getProjection().getCode(),dataProjection:this.customProj(n,g)};Object(m.register)(g),"object"===r(e)&&(e={type:"FeatureCollection",features:e});var i=new p.a,a=new y.a({source:i});return i.addFeatures((new l.a).readFeatures(e,o)),t.addLayer(a),a}}]),e}(d.a)},125:function(t){t.exports=ol.interaction.MouseWheelZoom},126:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=n(62),h=(n.n(p),n(2)),y=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).layers=[],r.addLayers(t.layers),r.map.on("click",f.a.proxy(r.mapClick,c(r))),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"addLayers",value:function(t){var e=this;t.forEach((function(t){e.addLayer(t)}))}},{key:"addLayer",value:function(t){this.layers.push(t),t.set("popup-id",this.getId())}},{key:"showFeature",value:function(t,e){e=e||Object(p.getCenter)(t.getGeometry().getExtent()),this.show({coordinate:e,html:h.a.html(t),css:t.cssClass?t.cssClass():""})}},{key:"mapClick",value:function(t){var e=this.getId(),n=this.map.forEachFeatureAtPixel(t.pixel,(function(t,n){if(n.get("popup-id")===e)return t}));n&&this.showFeature(n,t.coordinate)}}]),e}(n(136).a);y.Options,e.a=y},127:function(t){t.exports=ol.Overlay},128:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(0),u=n.n(c),l=n(80),f=n(57),p=n(129),h=n(130),y=n(131),d=n(132),m=n(133),g=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,o=t.map;r=void 0===t.searchTarget?u()(o.getTargetElement()).find(".ol-overlaycontainer-stopevent"):t.searchTarget;var i=t.geocoder||new f.a({url:t.url});return n.call(this,{search:new m.a(r),zoom:new y.a(o),dialogTarget:t.dialogTarget,geolocate:new d.a(o),locator:new p.a({geocoder:i}),mapLocator:new h.a({map:o})})}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,t);var n=i(e);return e}(l.a);g.Options,e.a=g},129:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=n(2),h=n(17),y=n(214),d=n.n(y),m=n(215),g=(n.n(m),n(62)),b=(n.n(g),p.a.proj4),v=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).locating=!1,r.extentLimit=t.extentLimit,r.geolocation=new d.a({trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),r.geolocation.on("change",f.a.proxy(r.geolocationChange,c(r))),r.geolocation.on("error",f.a.proxy(r.geolocationError,c(r))),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"locate",value:function(){this.locating=!0,this.geolocation.setTracking(!0)}},{key:"track",value:function(t){this.geolocation.setTracking(t)}},{key:"geolocationError",value:function(t){console.error(t.message,t)}},{key:"geolocationChange",value:function(){var t=this.geolocation,e=t.getPosition(),n=Object(m.toStringHDMS)(e);e=b("EPSG:4326",this.projection,e),this.withinLimit(e)&&(this.locating&&(this.track(!1),this.locating=!1),this.trigger("geolocated",{coordinate:e,heading:t.getHeading(),accuracy:t.getAccuracy()/this.metersPerUnit(),type:"geolocated",name:n}))}},{key:"withinLimit",value:function(t){return!this.extentLimit||Object(g.containsCoordinate)(this.extentLimit,t)}}]),e}(h.a);v.Options,e.a=v},130:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(49),l=n.n(u),f=n(26),p=n.n(f),h=n(63),y=n.n(h),d=n(50),m=n.n(d),g=n(88),b=n.n(g),v=n(64),w=n.n(v),O=n(65),_=n.n(O),k=n(48),j=n(94),S=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).layer=null,r.source=null,r.map=t.map,r.view=r.map.getView(),r.zoom=void 0===t.zoom?k.a.ZOOM_LEVEL:t.zoom,r.format=new l.a,r.tip=null,r.createLayer(t.style),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"zoomLocation",value:function(t,e){var n=this.map,r=this.view,o=this.source,i=this.feature(t);if(i){var a=i.getGeometry();o.clear(),o.addFeature(i),e&&n.once("moveend",e),"Point"===a.getType()?r.animate({center:t.coordinate,zoom:this.zoom}):r.fit(a.getExtent(),{size:n.getSize(),duration:500})}}},{key:"setLocation",value:function(t){this.source.clear(),this.source.addFeature(this.feature(t))}},{key:"getProjection",value:function(){return this.view.getProjection()}},{key:"feature",value:function(t){var e=t.geometry,n=t.coordinate;if(e||n){var r=new w.a({name:t.name,isFeature:t.isFeature});return e?r.setGeometry(this.format.readGeometry(e)):r.setGeometry(new _.a(n)),r}console.error("Unable to map invalid geometry:",t)}},{key:"createLayer",value:function(t){this.source=new m.a,this.layer=new b.a({source:this.source,style:t||e.LOCATION_STYLE,zIndex:1e4}),this.map.addLayer(this.layer),this.tip=new j.a({map:this.map,tips:[{layer:this.layer,label:function(t){return{css:"nyc-user-location",html:t.get("name")}}}]})}}]),e}(k.a);S.Options,S.LOCATION_STYLE=new p.a({image:new y.a({scale:48/512,imgSize:[1024,1024],src:"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%221024%22%20height%3D%221024%22%3E%3Cfilter%20id%3D%22filter%22%20style%3D%22color-interpolation-filters%3AsRGB%22%20x%3D%22-0.035750399%22%20width%3D%221.0715008%22%20y%3D%22-0.03625311%22%20%20height%3D%221.0725062%22%3E%3CfeGaussianBlur%20stdDeviation%3D%226.0015266%22%2F%3E%3C%2Ffilter%3E%3Cpath%20style%3D%22opacity%3A0.1%3Bfill%3A%23000000%3Bfill-opacity%3A1%3Bstroke%3A%23000000%3Bstroke-width%3A10%3Bstroke-opacity%3A1%3Bfilter%3Aurl(%23filter)%22%20d%3D%22M%20868.91078%2C141.10492%20C%20806.53392%2C79.855774%20695.84806%2C89.539532%20621.70905%2C162.73227%20547.57005%2C235.92501%20492.08486%2C476.05139%20510.9101%2C494.53629%20529.73535%2C513.02119%20773.473%2C457.74384%20847.612%2C384.5511%20921.751%2C311.35836%20931.28764%2C202.35407%20868.91078%2C141.10492%20Z%20M%20645.16036%2C361.99953%20c%20-41.52967%2C-40.77885%20-35.13918%2C-113.58881%2014.19918%2C-162.29746%2049.33837%2C-48.70864%20123.27149%2C-55.19708%20164.80115%2C-14.41823%2041.52967%2C40.77885%2035.13918%2C113.58881%20-14.19918%2C162.29745%20-49.33837%2C48.70864%20-123.27149%2C55.19709%20-164.80115%2C14.41824%20z%22%2F%3E%3Cpath%20style%3D%22fill%3A%23000%3Bstroke%3A%23fff%3Bstroke-width%3A20%22%20d%3D%22m%20512%2C25.6%20c%20-95.4279%2C0%20-172.8%2C77.3721%20-172.8%2C172.8%200%2C95.4279%20144%2C288%20172.8%2C288%2028.8%2C0%20172.8%2C-192.5721%20172.8%2C-288%20C%20684.8%2C102.9721%20607.4279%2C25.6%20512%2C25.6%20Z%20m%200%2C288%20c%20-63.5346%2C0%20-115.2%2C-51.6942%20-115.2%2C-115.2%200%2C-63.5058%2051.6654%2C-115.2%20115.2%2C-115.2%2063.5346%2C0%20115.2%2C51.6942%20115.2%2C115.2%200%2C63.5058%20-51.6654%2C115.2%20-115.2%2C115.2%20z%22%2F%3E%3C%2Fsvg%3E"})}),e.a=S},131:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,l()(t.getTargetElement()))).map=t,r.view=t.getView(),r.getContainer().on("click dblclick mouseover mousemove",(function(){l()(".f-tip").hide()})),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"zoom",value:function(t){this.view.animate({zoom:this.view.getZoom()+1*l()(t.currentTarget).data("zoom-incr")})}}]),e}(n(83).a);e.a=f},132:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(0),u=n.n(c),l=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,u()(t.getTargetElement()))).getContainer().on("click dblclick mouseover mousemove",(function(){u()(".f-tip").hide()})),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(e,t);var n=i(e);return e}(n(84).a);e.a=l},133:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=n(49),p=n.n(f),h=n(62),y=(n.n(h),n(85)),d=n(17),m=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).geoJson=new p.a,r.getContainer().on("click dblclick mouseover mousemove",(function(){l()(".f-tip").hide()})),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"featureAsLocation",value:function(t,e){var n=t.getGeometry(),r={name:e.nameField?t.get(e.nameField):t.getName(),data:t.getProperties(),type:"geocoded",accuracy:d.a.Accuracy.HIGH};return n&&(r.coordinate=Object(h.getCenter)(n.getExtent()),r.geometry=JSON.parse(this.geoJson.writeGeometry(n))),r}}]),e}(y.a);e.a=m},134:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(2),l=n(95),f=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).parentFormat=t.parentFormat,r.decorations=t.decorations,r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"readFeature",value:function(){throw"Not supported: Use readFeatures"}},{key:"readFeatures",value:function(t,e){var n=this,r=this.parentFormat.readFeatures(t,e);return r.forEach((function(t){n.decorate(t)})),r}},{key:"readProjection",value:function(t){return this.parentFormat.readProjection(t)}},{key:"getType",value:function(){return this.parentFormat.getType()}},{key:"decorate",value:function(t){t.decorated||(t.decorated=!0,u.a.mixin(t,this.decorations),t.extendFeature&&t.extendFeature())}}]),e}(n.n(l).a);f.Options,e.a=f},135:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=n(50),p=n.n(f),h=n(89),y=n(20),d=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.loader=function(){console.warn("Use autoLoad to load features")},(r=n.call(this,t)).autoLoadOptions=t,r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"autoLoad",value:function(){return new Promise(l.a.proxy(this.resolve,this))}},{key:"resolve",value:function(t,e){var n=this;Object(y.a)(this.autoLoadOptions.url).then((function(r){r.text().then((function(r){try{var o=n.getFormat(r),i=n.getCsvAddrFormat(o),a=o.readFeatures(r);n.addFeatures(a),i?i.one("geocode-complete",(function(){n.set("autoload-complete",n),t(a)})):(n.set("autoload-complete",n),t(a))}catch(t){var s=new Error("Failed to load ".concat(n.autoLoadOptions.url));s.cause=t,s.responseText=r,e(s)}}))})).catch((function(t){var r=new Error("Failed to load ".concat(n.autoLoadOptions.url));r.cause=t,e(r)}))}},{key:"getCsvAddrFormat",value:function(t){return t instanceof h.a?t:t.parentFormat instanceof h.a?t.parentFormat:void 0}}]),e}(p.a);e.a=d},136:function(t,e,n){"use strict";function r(t){return t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(0),p=n.n(f),h=n(127),y=n.n(h),d=n(2),m=n(9),g=function(t){function e(t){var o;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),o=n.call(this,{id:d.a.nextId("Popup"),element:p()(e.HTML).get(0),autoPanMargin:void 0===t.autoPanMargin?10:t.autoPanMargin,autoPanAnimation:void 0===t.autoPanAnimation?{duration:1e3,easing:r}:t.autoPanAnimation});var i=new m.a;return o.on=p.a.proxy(i.on,i),o.one=p.a.proxy(i.one,i),o.off=p.a.proxy(i.off,i),o.trigger=p.a.proxy(i.trigger,i),o.popup=p()(o.getElement()),o.map=t.map,o.setMap(o.map),o.content=o.popup.find(".content"),o.fullscreen=p()(e.FULLSCREEN_HTML),o.closeFullscreen=o.fullscreen.find(".btn-x"),p()(o.map.getTargetElement()).append(o.fullscreen),o.popup.find(".btn-x").on("click tap",p.a.proxy(o.hide,u(o))),o.popup.on("mouseover mousemove",p.a.proxy(o.hideTip,u(o))),p()(window).resize(p.a.proxy(o.isFullscreen,u(o))),o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,t);var n=s(e);return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(e,[{key:"show",value:function(t){t.html&&(this.content.html(t.html),this.cssClass(t.css)),this.setPosition(t.coordinate),this.popup.fadeIn(p.a.proxy(this.pan,this)),p()(".f-tip").fadeOut(),p()(this.getElement()).attr("tabindex",0).focus(),this.trigger("show",this)}},{key:"cssClass",value:function(t){this.content.get(0).className="content",this.content.addClass(t)}},{key:"hide",value:function(){var t=this;t.popup.fadeOut((function(){t.trigger("hide",t)}))}},{key:"hideTip",value:function(t){t.stopPropagation(),p()(".f-tip").fadeOut()}},{key:"pan",value:function(){this.isFullscreen()||"none"===this.popup.css("display")||this.panIntoView({margin:10})}},{key:"isFullscreen",value:function(){var t=p()(this.getElement()),e=p()(this.map.getTargetElement());if(t.height()>e.height())return this.goFullscreen(),!0}},{key:"goFullscreen",value:function(){var t=p()(this.getElement()),e=this.content,n=this.fullscreen,r=p.a.proxy(this.hide,this);n.append(e),this.closeFullscreen.click((function(){n.fadeOut(),t.append(e),p()(".fnd #lng").show()})),n.fadeIn(r),this.trigger("fullscreen",this)}}]),e}(y.a);g.ShowOptions,g.Options,g.HTML='<div class="pop"><div class="content"></div><button class="btn btn-rnd btn-x"><span class="screen-reader-only">Dismiss popup</span><span class="fas fa-times" role="img"></span></button></div>',g.FULLSCREEN_HTML='<div class="pop fullscreen"><button class="btn btn-rnd btn-x"><span class="screen-reader-only">Close</span><span class="fas fa-times" role="img"></span></button></div>',e.a=g},137:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=n(62),b=n(0),v=n.n(b),w=n(2),O=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=n.call(this,v()(e.HTML)),t=t||{},v()(t.target).append(r.getContainer()),r.item=null,r.current=r.find(".current"),r.total=r.find(".total"),r.currentItem=r.find(".it"),r.btns=r.find(".btns"),r.items=null,r.find(".btn-nxt, .btn-prv").click(v.a.proxy(r.navigate,c(r))),t.items&&r.show(t.items),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"show",value:function(t){this.items=t,this.item=t[0],this.btns[1<t.length?"show":"hide"](),this.current.data("current",0).html(1),this.total.html(t.length),this.currentItem.html(t.length?w.a.html(t[0]):""),this.trigger("change",this)}},{key:"navigate",value:function(t){var e=v()(t.currentTarget).data("incr")-0,n=this.current.data("current")-0+e;0<=n&&n<this.items.length&&(this.current.data("current",n).html(n+1),this.currentItem.html(w.a.html(this.items[n])),this.item=this.items[n],this.trigger("change",this))}}]),e}(n(3).a);O.Options,O.HTML='<div class="it-pg"><div class="it"></div><div class="btns"><button class="btn btn-rnd btn-prv" data-incr="-1"><span class="screen-reader-only msg-prv">Previous</span><span class="fas fa-angle-left" role="img"></span></button><span class="current"></span> of <span class="total"></span><button class="btn btn-rnd btn-nxt" data-incr="1"><span class="screen-reader-only msg-nxt">Next</span><span class="fas fa-angle-right" role="img"></span></button></div></div>';var _=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).layers=[],r.pager=new O({target:r.content}),r.addLayers(t.layers),r.pager.on("change",r.paged,d(r)),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,t);var n=h(e);return function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(e,[{key:"showFeature",value:function(t){this.showFeatures([t])}},{key:"showFeatures",value:function(t,e){e=e||Object(g.getCenter)(t[0].getGeometry().getExtent()),this.pager.show(t),this.show({coordinate:e})}},{key:"mapClick",value:function(t){var e=this.getId(),n=[];this.map.forEachFeatureAtPixel(t.pixel,(function(t,r){r.get("popup-id")===e&&n.push(t)})),n.length&&this.showFeatures(n,t.coordinate)}},{key:"paged",value:function(t){this.cssClass(t.item.cssClass?t.item.cssClass():""),this.pan()}}]),e}(n(126).a);e.a=_},138:function(t,e,n){"use strict";function r(t,e){if(!t)throw new a(e)}n.d(e,"a",(function(){return r}));var o=n(6),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("latest"===o.a?o.a:"v"+o.a.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return i(e,t),e}(Error)},139:function(t){t.exports=ol.View},14:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=t||{}).target=t.target||"body",r=n.call(this,l()(e.HTML)),l()(t.target).append(r.getContainer().addClass(t.css)),r.open=!1,r.okBtn=r.find(".btn-ok"),r.yesNoBtns=r.find(".btn-yes, .btn-no"),r.inputBtns=r.find(".btn-submit, .btn-cancel"),r.field=r.find("input"),r.msg=r.find(".dia-msg"),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"ok",value:function(t){this.buttons(e.Type.OK,t),this.show(e.Type.OK,t),this.okBtn.focus();var n=this,r=this.okBtn;return new Promise((function(t){r.one("click",(function(e){n.checkHref(e),n.hide(),t(!0)}))}))}},{key:"input",value:function(t){var n=this.field;this.buttons(e.Type.INPUT,t),n.attr("placeholder",t.placeholder||""),this.show(e.Type.INPUT,t),n.focus();var r=this,o=this.inputBtns;return new Promise((function(t){var e=function(e){r.hndlKey(t,r,e)};l()(document).keyup(e),o.one("click",(function(o){var i=l()(o.target).hasClass("btn-cancel");l()(document).off("keyup",e),r.hide(),t(i?void 0:n.val())}))}))}},{key:"yesNo",value:function(t){this.buttons(e.Type.YES_NO,t),this.show(e.Type.YES_NO,t),this.find(".btn-yes").focus();var n=this,r=this.yesNoBtns;return new Promise((function(t){r.one("click",(function(e){n.checkHref(e),n.hide(),t(n.isYesBtn(e.target))}))}))}},{key:"yesNoCancel",value:function(t){this.buttons(e.Type.YES_NO_CANCEL,t),this.show(e.Type.YES_NO_CANCEL,t),this.find(".btn-yes").focus();var n=this,r=this.yesNoBtns,o=this.find(".btn-cancel");return new Promise((function(t){var e=function(e){n.hndlKey(t,n,e)};l()(document).keyup(e),r.one("click",(function(r){n.checkHref(r),l()(document).off("keyup",e),n.hide(),t(n.isYesBtn(r.target))})),o.one("click",(function(r){n.checkHref(r),l()(document).off("keyup",e),n.hide(),t(void 0)}))}))}},{key:"isYesBtn",value:function(t){return l()(t).hasClass("btn-yes")||l.a.contains(this.find(".btn-yes").get(0),t)}},{key:"checkHref",value:function(t){"#"===l()(t.target).attr("href")&&t.preventDefault()}},{key:"buttons",value:function(t,n){var r=n.buttonText||[],o=n.buttonHref||[];switch(t){case e.Type.OK:this.find(".btn-ok").html(r[0]||'<span class="msg-ok">OK</span>').attr("href",o[0]||"#");break;case e.Type.INPUT:this.find(".btn-submit").html(r[0]||'<span class="msg-ok">OK</span>').attr("href",o[0]||"#"),this.find(".btn-cancel").html(r[1]||'<span class="msg-cancel">Cancel</span>').attr("href",o[1]||"#");break;case e.Type.YES_NO:this.find(".btn-yes").html(r[0]||'<span class="msg-yes">Yes</span>').attr("href",o[0]||"#"),this.find(".btn-no").html(r[1]||'<span class="msg-no">No</span>').attr("href",o[1]||"#");break;case e.Type.YES_NO_CANCEL:this.find(".btn-yes").html(r[0]||'<span class="msg-yes">Yes</span>').attr("href",o[0]||"#"),this.find(".btn-no").html(r[1]||'<span class="msg-no">No</span>').attr("href",o[1]||"#"),this.find(".btn-cancel").html(r[2]||'<span class="msg-cancel">Cancel</span>').attr("href",o[2]||"#")}}},{key:"show",value:function(t,n){this.open=!0,l()("*").on("focus",l.a.proxy(this.trapFocus,this)),this.currentType=t,this.getContainer().removeClass("dia-3-btns"),this.find(".ui-link").removeClass("ui-link"),this.inputBtns.css("display",t===e.Type.INPUT?"inline-block":"none"),this.field.css("display",t===e.Type.INPUT?"block":"none"),this.okBtn.css("display",t===e.Type.OK?"inline-block":"none"),this.yesNoBtns.css("display",t===e.Type.YES_NO?"inline-block":"none"),t===e.Type.YES_NO_CANCEL&&(this.getContainer().addClass("dia-3-btns"),this.yesNoBtns.css("display","inline-block"),this.find(".btn-cancel").css("display","inline-block"));var r=l()("<div></div>").append(n.message).html();r&&r.length?this.msg.html(r):this.msg.html(n.message),this.getContainer().fadeIn()}},{key:"trapFocus",value:function(t){var e=this.getContainer();this.open&&!l.a.contains(e.get(0),t.target)&&this.find(".btn:visible").first().focus()}},{key:"hide",value:function(){var t=this.field;this.open=!1,l()("*").off("focus",l.a.proxy(this.trapFocus,this)),this.getContainer().fadeOut((function(){t.val("")}))}},{key:"hndlKey",value:function(t,e,n){13===n.keyCode&&l()(n.target).get(0)===e.field.get(0)?(e.hide(),t(e.field.val())):27===n.keyCode&&(e.hide(),t(void 0))}}]),e}(n(3).a);f.Type={OK:"ok",YES_NO:"yes-no",YES_NO_CANCEL:"yes-no-cancel",INPUT:"input"},f.Options,f.ShowOptions,f.HTML='<div class="dia-container" role="dialog"><div class="dia"><div class="dia-msg"></div><input class="rad-all"><div class="dia-btns"><a class="btn rad-all btn-ok" role="button"><span class="msg-ok">OK</span></a><a class="btn rad-all btn-yes" role="button"><span class="msg-yes">Yes</span></a><a class="btn rad-all btn-no" role="button"><span class="msg-no">No</span></a><a class="btn rad-all btn-submit" role="button"><span class="msg-ok">OK</span></a><a class="btn rad-all btn-cancel" role="button"><span class="msg-cancel">Cancel</span></a></div></div></div>',e.a=f},140:function(t,e,n){"use strict";function r(t){if("string"!=typeof t&&(t+=""),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t+=""),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return b.iterable&&(e[Symbol.iterator]=function(){return e}),e}function a(t){this.map={},t instanceof a?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function s(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function c(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function u(t){var e=new FileReader,n=c(e);return e.readAsArrayBuffer(t),n}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:b.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:b.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():b.arrayBuffer&&b.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):b.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||w(t))?this._bodyArrayBuffer=l(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=s(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(u)}),this.text=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=c(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t,e){if(!(this instanceof p))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(e=e||{}).body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t+"";if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new a(e.headers)),this.method=function(t){var e=t.toUpperCase();return-1<O.indexOf(e)?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function h(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function y(t){var e=new a;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e}function d(t,e){if(!(this instanceof d))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&300>this.status,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}function m(t,e){return new Promise((function(n,r){function i(){c.abort()}var s=new p(t,e);if(s.signal&&s.signal.aborted)return r(new k("Aborted","AbortError"));var c=new XMLHttpRequest;c.onload=function(){var t={status:c.status,statusText:c.statusText,headers:y(c.getAllResponseHeaders()||"")};t.url="responseURL"in c?c.responseURL:t.headers.get("X-Request-URL");var e="response"in c?c.response:c.responseText;setTimeout((function(){n(new d(e,t))}),0)},c.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){r(new k("Aborted","AbortError"))}),0)},c.open(s.method,function(t){try{return""===t&&g.location.href?g.location.href:t}catch(e){return t}}(s.url),!0),"include"===s.credentials?c.withCredentials=!0:"omit"===s.credentials&&(c.withCredentials=!1),"responseType"in c&&(b.blob?c.responseType="blob":b.arrayBuffer&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof a?s.headers.forEach((function(t,e){c.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){c.setRequestHeader(t,o(e.headers[t]))})),s.signal&&(s.signal.addEventListener("abort",i),c.onreadystatechange=function(){4===c.readyState&&s.signal.removeEventListener("abort",i)}),c.send(void 0===s._bodyInit?null:s._bodyInit)}))}n.r(e),n.d(e,"Headers",(function(){return a})),n.d(e,"Request",(function(){return p})),n.d(e,"Response",(function(){return d})),n.d(e,"DOMException",(function(){return k})),n.d(e,"fetch",(function(){return m}));var g="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==g&&g,b={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};if(b.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=ArrayBuffer.isView||function(t){return t&&-1<v.indexOf(Object.prototype.toString.call(t))};a.prototype.append=function(t,e){t=r(t),e=o(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},a.prototype.delete=function(t){delete this.map[r(t)]},a.prototype.get=function(t){return t=r(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(r(t))},a.prototype.set=function(t,e){this.map[r(t)]=o(e)},a.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},a.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),i(t)},a.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),i(t)},a.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),i(t)},b.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];d.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})};var k=g.DOMException;try{new k}catch(t){(k=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),k.prototype.constructor=k}m.polyfill=!0,g.fetch||(g.fetch=m,g.Headers=a,g.Request=p,g.Response=d)},141:function(t){t.exports=window.shapefile||{}},15:function(t,e){"use strict";var n=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};n.ID="ID",n.X="X",n.Y="Y",n.LNG="LNG",n.LAT="LAT",n.NAME="NAME",n.ADDR1="ADDR1",n.ADDR2="ADDR2",n.CITY="CITY",n.BORO="BORO",n.STATE="STATE",n.ZIP="ZIP",n.PHONE="PHONE",n.EMAIL="EMAIL",n.WEBSITE="WEBSITE",n.DETAIL="DETAIL",e.a=n},169:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}n.r(e);var k=n(2),j=n(54),S=n(31),E=n(41),T=n(55),P=n(3),x=n(0),C=n.n(x),R=n(42),L=n.n(R),A=n(23),D=n(20),F=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).messages={},t.forEach((function(t){Object.keys(t).forEach((function(e){r.messages[e]&&console.warn("Overwriting message with key '".concat(e,"'")),r.messages[e]=t[e]}))})),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"applyToDom",value:function(t){var e=this;Object.keys(this.messages).forEach((function(n){var r=e.message(n,t),o=C()(n);1===o.length&&o.html(r)}))}},{key:"message",value:function(t,e){return this.messages[t]?this.replace(this.messages[t],e||{}):""}}]),e}(A.a);F.loadCsv=function(t){var e=t.messages||[{}],n=t.key||"key",r=t.value||"value";return new Promise((function(o){Object(D.a)(t.url).then((function(t){t.text().then((function(t){L.a.parse(t,{header:!0}).data.forEach((function(t){e[0][t[n]]&&console.warn("Overwriting message with key '".concat([t[n]],"'")),e[0][t[n]]=t[r]})),o(new F(e))}))})).catch((function(e){console.error("Failed to load CSV from ".concat(t.url),e)}))}))},F.LoadOptions;var I=n(14),B=n(78),M=n(9),N=n(57),z=n(30),G=k.a.proj4,U=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).url="https://geocoding.geo.census.gov/geocoder/locations/onelineaddress?format=json&benchmark=4&vintage=4&address=",r.projection=t&&t.projection?t.projection:"EPSG:3857",r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t);var n=p(e);return function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(e,[{key:"search",value:function(t){var e=this,n=this;return new Promise((function(r){5!==(t=t.trim()).length||isNaN(t)?t.length&&(t=t.replace(/"/g,"").replace(/'/g,"").replace(/&/g," and "),C.a.ajax({url:"".concat(n.url).concat(t),dataType:"jsonp",success:function(t){n.census(t,r)},error:n.error})):e.resolveZip(t,r)}))}},{key:"project",value:function(t){return t&&"EPSG:4326"!==this.projection?G("EPSG:4326",this.projection,t):t}},{key:"census",value:function(t,e){var n=t.result,r=n.addressMatches,o={type:"ambiguous",input:n.input.address.address,possible:[]};if(r.length)if(1===r.length){var i=this.parse(r[0]);i?(i.type="geocoded",e(i),this.trigger("geocoded",i)):(e(o),this.trigger("ambiguous",o))}else{var a={type:"ambiguous",input:o.input,possible:this.possible(r)};e(a),this.trigger("ambiguous",a)}else e(o),this.trigger("ambiguous",o)}},{key:"possible",value:function(t){var e=this,n=[];return t.forEach((function(t){var r=e.parse(t);r&&n.push(r)})),n}},{key:"parse",value:function(t){var e=[t.coordinates.x,t.coordinates.y];return{type:"geocoded",coordinate:this.project(e),data:t,name:t.matchedAddress}}},{key:"error",value:function(t){var e={type:"error",error:arguments};console.error("Geoclient error",arguments),t(e),this.trigger("error",e)}}]),e}(z.a);U.Options;var H=n(79),W=n(80),V=n(17),q=n(48),J=n(81),Z=n(43),Y=n(82),K=function(t){function e(t){var r;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),r=n.call(this,t.target);var o=t.units,i=k.a.nextId("slider"),a=C()("<label></label>").html(t.label||"").attr("for",i);return r.text=C()('<input type="text" class="rad-all">').attr("value",t.value||t.min).change(C.a.proxy(r.change,w(r))).keydown(C.a.proxy(r.key,w(r))).focus((function(t){return C()(t.target).select()})),r.range=C()('<input type="range">').attr({id:i,min:t.min,max:t.max,step:t.step||1,value:r.text.val()}).change(C.a.proxy(r.change,w(r))),o=o?C()("<span>".concat(o,"</span>")):void 0,r.append(a).append(r.text).append(o).append(r.range).addClass("sld"),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,t);var n=b(e);return function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(e,[{key:"val",value:function(t){return void 0===t?1*this.range.val():(this.range.val(t),this.text.val(t),this)}},{key:"badKey",value:function(t){var e=t.keyCode;return(96>e||105<e)&&-1===C.a.inArray(e,[8,9,37,38,39,40,46])&&isNaN(String.fromCharCode(t.which||e))}},{key:"key",value:function(t){this.badKey(t)?t.preventDefault():38===t.keyCode?this.val(1*this.val()+1*this.range.attr("step")):40===t.keyCode?this.val(this.val()-this.range.attr("step")):13===t.keyCode&&(this.val(this.text.val()),this.change())}},{key:"change",value:function(){this.text.val(this.range.val()),this.trigger("change",this)}}]),e}(P.a);K.Options;var $=n(83),X=n(84),Q=n(85),tt=n(86),et=n(24),nt=n(61),rt=n(56),ot=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.url=e.url,this.appToken=e.appToken,this.query=e.query,this.filters={},this.setFilters(e.filters)}return function(t,e,n){e&&_(t.prototype,e),n&&_(t,n)}(t,[{key:"setAppToken",value:function(t){this.appToken=t||this.appToken}},{key:"setFilter",value:function(t,e){this.filters[t]=[e]}},{key:"setFilters",value:function(t){this.filters=t||{}}},{key:"addFilter",value:function(t,e){this.filters[t]=this.filters[t]||[],this.filters[t].push(e)}},{key:"appendFilter",value:function(e,n,r){var o=r.value||"";return r.op=r.op.toUpperCase(),o="string"==typeof o?"NULL"===o.toUpperCase()||""===o?"NULL":"'".concat(o,"'"):"number"==typeof o?"".concat(o):"number"==typeof o[0]?"(".concat(o.join(", "),")"):"('".concat(o.join("', '"),"')"),t.and(e,"".concat(n," ").concat(r.op," ").concat(o))}},{key:"clearFilters",value:function(t){delete this.filters[t]}},{key:"clearAllFilters",value:function(){this.filters={}}},{key:"setQuery",value:function(t){t=t||{},this.query.select=t.select||this.query.select||"*",this.query.where=t.where||this.query.where||"",this.query.group=t.group||this.query.group||"",this.query.order=t.order||this.query.order||"",this.query.limit=t.limit||this.query.limit||""}},{key:"setUrl",value:function(t){this.url=t||this.url}},{key:"getUrlAndQuery",value:function(){return"".concat(this.url,"?").concat(this.qstr())}},{key:"execute",value:function(t){var e=this;t=t||{},this.setFilters(t.filters),this.setUrl(t.url),this.setQuery(t.query),this.setAppToken(t.appToken);var n="".concat(this.url,"?").concat(this.qstr());return new Promise((function(t,r){fetch(n).then((function(t){return t.text()})).then((function(n){e.parseResponse(n,t)})).catch((function(t){r(t)}))}))}},{key:"parseResponse",value:function(t,e){e(this.csv()?L.a.parse(t,{header:!0}).data:JSON.parse(t).rows)}},{key:"csv",value:function(){var t=this.url.indexOf(".csv"),e=this.url.indexOf("?"),n=this.url.length,r=n-t;return-1<t&&(4==r||n-e==r-4)}},{key:"qstr",value:function(){var t=this,e={};return Object.keys(this.query).forEach((function(n){e["$".concat(n)]=t.query[n]})),Object.keys(this.filters).forEach((function(n){t.filters[n].forEach((function(r){e.$where=t.appendFilter(e.$where,n,r)}))})),this.appToken&&(e.$$app_token=this.appToken),C.a.param(e)}}]),t}();ot.and=function(t,e){return t?e?"".concat(t," AND ").concat(e):t:e},ot.Filter,ot.Query,ot.Options,window.nyc=k.a,window.nyc.AutoComplete=j.a,window.nyc.BasemapHelper=S.a,window.nyc.Choice=E.a,window.nyc.Collapsible=T.a,window.nyc.Container=P.a,window.nyc.Content=F,window.nyc.Dialog=I.a,window.nyc.Directions=B.a,window.nyc.EventHandling=M.a,window.nyc.fetchTimeout=D.a,window.nyc.Geoclient=N.a,window.nyc.Geocoder=z.a,window.nyc.CensusGeocoder=U,window.nyc.LocalStorage=H.a,window.nyc.LocationMgr=W.a,window.nyc.Locator=V.a,window.nyc.MapLocator=q.a,window.nyc.ListPager=J.a,window.nyc.ReplaceTokens=A.a,window.nyc.Share=Y.a,window.nyc.Slider=K,window.nyc.Tabs=Z.a,window.nyc.Zoom=$.a,window.nyc.Geolocate=X.a,window.nyc.Search=Q.a,window.nyc.ToggleSwitch=tt.a,window.nyc.lang={},window.nyc.lang.Translate=et.a,window.nyc.lang.Goog=nt.a,window.nyc.mta={},window.nyc.mta.TripPlanHack=rt.a,window.nyc.soda={},window.nyc.soda.Query=ot},17:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(9),l=n(2).a.proj4,f=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).geocoder=t.geocoder,r.projection=t.projection||"EPSG:3857",r.hookupEvents(),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"metersPerUnit",value:function(){return l.defs[this.projection].to_meter}},{key:"accuracyDistance",value:function(t){return"EPSG:3857"===this.projection?t:t/this.metersPerUnit()}},{key:"search",value:function(t){this.geocoder.search(t)}},{key:"locate",value:function(){throw"Not implemented"}},{key:"track",value:function(){throw"Not implemented"}},{key:"proxyEvent",value:function(t){this.trigger(t.type,t)}},{key:"hookupEvents",value:function(){this.geocoder.on("geocoded",this.proxyEvent,this),this.geocoder.on("ambiguous",this.proxyEvent,this),this.geocoder.on("error",this.proxyEvent,this)}}]),e}(u.a);f.Options,f.Accuracy={HIGH:0,MEDIUM:50,LOW:500,ZIP_CODE:1e3},f.Result,f.Ambiguous,e.a=f},19:function(t,e,n){"use strict";var r=n(2),o=n(206),i=(n.n(o),n(123));n.n(i);Object(i.register)(r.a.proj4);var a={TILE_HOSTS:"maps{1-4}.nyc.gov",TILE_GRID:Object(o.createXYZ)({minZoom:8,maxZoom:21})};e.a=a},2:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(0),i=n.n(o),a=n(87),s=n.n(a);s.a.defs([["EPSG:2263","+proj=lcc +lat_1=41.03333333333333 +lat_2=40.66666666666666 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000.0000000001 +y_0=0 +ellps=GRS80 +datum=NAD83 +units=ft +to_meter=0.3048006096012192 +no_defs"],["EPSG:6539","+proj=lcc +lat_1=40.66666666666666 +lat_2=41.03333333333333 +lat_0=40.16666666666666 +lon_0=-74 +x_0=300000 +y_0=0 +ellps=GRS80 +units=us-ft +no_defs"]]);var c={proj4:s.a,inherits:function(t,e){c.copyFromParentProperties(t.prototype,e.prototype)},subclass:function(t,e){var n=Object.getPrototypeOf(e);c.copyFromParentProperties(t,n),c.copyFromParentKeys(t,e)},mixin:function(t,e){e.forEach((function(e){i.a.extend(t,e)}))},copyFromParentProperties:function(t,e){Object.getOwnPropertyNames(e).forEach((function(n){n in t||(t[n]=e[n])}))},copyFromParentKeys:function(t,e){Object.keys(e).forEach((function(n){n in t||(t[n]=e[n])}))},capitalize:function(t){var e=t.split(" "),n="";return e.forEach((function(t){var e=t.toLowerCase();n+=e.substr(0,1).toUpperCase(),n+=e.substr(1).toLowerCase(),n+=" "})),n.trim()},nextId:function(t){var e=c.uniqueIds[t];return c.uniqueIds[t]="number"==typeof e?e+1:0,"".concat(t,"-").concat(c.uniqueIds[t])},html:function(t){if("function"==typeof t.html)return i()(t.html());var e=i()('<div class="nyc-html"></div>');return t.getProperties?t=t.getProperties():t.properties&&(t=t.properties),Object.keys(t).forEach((function(n){e.append('<div><span class="fld">'.concat(n,'</span><span class="val">').concat(t[n],"</span></div>"))})),e},loading:function(t){t.hasClass("loading")&&t.append(i()("#loading").get(0)||c.LOADING_HTML)},ready:function(t){i()(t||i()("body")).removeClass("loading").attr("aria-hidden",!1),i()("#loading").fadeOut()},cacheBust:function(t){var e=6e4*t;return Math.round((new Date).getTime()/e)*e},noSpaceBarScroll:function(){i()(document).keypress(c.noSpaceBarHandler)},noSpaceBarHandler:function(t){var e=t.target.tagName;if(-1===i.a.inArray(e,["INPUT","TEXTAREA","SELECT"])){var n=t.key;if(-1<i.a.inArray(n,[" ","Enter"])){var r=i()(t.target),o=r.attr("href");if(t.preventDefault(),o&&"#"!==o)r.attr("target")?window.open(o):c.location(o);else r.trigger("click")}}},location:function(t){window.location=t},activeElement:function(){var t=document.activeElement;return{activeElement:t,isTextInput:"INPUT"===t.tagName&&"text"===t.type}},removeDups:function(t){var e={},n=[];return t.forEach((function(t){e[t]=r(t)})),Object.keys(e).forEach((function(t){n.push("number"===e[t]?1*t:t)})),n},uniqueIds:{},bind:function(t,e){return t.bind(e)},LOADING_HTML:'<div id="loading"><div><svg xmlns="http://www.w3.org/2000/svg" width="152" height="52"><g transform="translate(1.5,0)"><polygon points="15.5,1.2 3.1,1.2 0,4.3 0,47.7 3.1,50.8 15.5,50.8 18.6,47.7 18.6,35.3 34.1,50.8 46.6,50.8 49.7,47.7 49.7,4.3 46.6,1.2 34.1,1.2 31,4.3 31,16.7 "/><polygon points="83.8,47.7 83.8,38.4 99.3,22.9 99.3,10.5 99.3,4.3 96.2,1.2 83.8,1.2 80.7,4.3 80.7,10.5 74.5,16.7 68.3,10.5 68.3,4.3 65.2,1.2 52.8,1.2 49.7,4.3 49.7,22.9 65.2,38.4 65.2,47.7 68.3,50.8 80.7,50.8 "/><polygon points="145.9,29.1 130.4,29.1 130.4,32.2 118,32.2 118,19.8 130.4,19.8 130.4,22.9 145.9,22.9 149,19.8 149,10.5 139.7,1.2 108.6,1.2 99.3,10.5 99.3,41.5 108.6,50.8 139.7,50.8 149,41.5 149,32.2 "/></g></svg><h1>maps.nyc.gov</h1></div></div>'};i()(document).ready((function(){c.loading(i()("body"))})),e.a=c},20:function(t,e,n){"use strict";n(99);var r=function t(e,n){var r=!1,o=t.LOG?(new Date).getTime():0;return new Promise((function(i,a){var s=setTimeout((function(){r=!0,t.LOG&&console.error("Fetch ".concat(e," timed out: ").concat(t.TIMEOUT," ms")),a(new Error("Request timeout for ".concat(e)))}),n||t.TIMEOUT);fetch(e).then((function(n){clearTimeout(s),r||(t.LOG&&console.info("Fetch ".concat(e," success: ").concat((new Date).getTime()-o," ms")),i(n))})).catch((function(n){r||(t.LOG&&console.error("Fetch ".concat(e," failed: ").concat((new Date).getTime()-o," ms")),a(n))}))}))};r.TIMEOUT=15e3,r.LOG=!1,e.a=r},206:function(t){t.exports=ol.tilegrid},207:function(t){t.exports=ol.Map},208:function(t){t.exports=ol.interaction.DoubleClickZoom},209:function(t){t.exports=ol.interaction.DragPan},21:function(t){t.exports=ol.proj},210:function(t){t.exports=ol.interaction.DragZoom},211:function(t){t.exports=ol.interaction.KeyboardPan},212:function(t){t.exports=ol.interaction.KeyboardZoom},213:function(t){t.exports=ol.interaction.PinchZoom},214:function(t){t.exports=ol.Geolocation},215:function(t){t.exports=ol.coordinate},216:function(t){t.exports=ol.geom.LineString},217:function(t,e,n){(function(t){function r(t,n){var r={seen:[],stylize:i};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&e._extend(r,n),d(r.showHidden)&&(r.showHidden=!1),d(r.depth)&&(r.depth=2),d(r.colors)&&(r.colors=!1),d(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),a(r,t,r.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function i(t){return t}function a(t,n,r){if(t.customInspect&&n&&w(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return y(o)||(o=a(t,o,r)),o}var i=s(t,n);if(i)return i;var f=Object.keys(n),p=function(t){var e={};return t.forEach((function(t){e[t]=!0})),e}(f);if(t.showHidden&&(f=Object.getOwnPropertyNames(n)),v(n)&&(0<=f.indexOf("message")||0<=f.indexOf("description")))return c(n);if(0===f.length){if(w(n)){var h=n.name?": "+n.name:"";return t.stylize("[Function"+h+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(v(n))return c(n)}var d,g="",O=!1,_=["{","}"];(l(n)&&(O=!0,_=["[","]"]),w(n))&&(g=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(g=" "+RegExp.prototype.toString.call(n)),b(n)&&(g=" "+Date.prototype.toUTCString.call(n)),v(n)&&(g=" "+c(n)),0!==f.length||O&&0!=n.length?0>r?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),d=O?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)j(e,a+"")?i.push(u(t,e,n,r,a+"",!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(u(t,e,n,r,o,!0))})),i}(t,n,r,p,f):f.map((function(e){return u(t,n,r,p,e,O)})),t.seen.pop(),function(t,e,n){return 60<t.reduce((function(t,e){return 0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(d,g,_)):_[0]+g+_[1]}function s(t,e){if(d(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return h(e)?t.stylize(""+e,"number"):f(e)?t.stylize(""+e,"boolean"):p(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function u(t,e,n,r,o,i){var s,c,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(c=t.stylize("[Setter]","special")),j(r,o)||(s="["+o+"]"),c||(0>t.seen.indexOf(u.value)?-1<(c=p(n)?a(t,u.value,null):a(t,u.value,n-1)).indexOf("\n")&&(c=i?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special")),d(s)){if(i&&o.match(/^\d+$/))return c;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function l(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function p(t){return null===t}function h(t){return"number"==typeof t}function y(t){return"string"==typeof t}function d(t){return void 0===t}function m(t){return g(t)&&"[object RegExp]"===O(t)}function g(t){return"object"==typeof t&&null!==t}function b(t){return g(t)&&"[object Date]"===O(t)}function v(t){return g(t)&&("[object Error]"===O(t)||t instanceof Error)}function w(t){return"function"==typeof t}function O(t){return Object.prototype.toString.call(t)}function _(t){return 10>t?"0"+t.toString(10):t.toString(10)}function k(){var t=new Date,e=[_(t.getHours()),_(t.getMinutes()),_(t.getSeconds())].join(":");return[t.getDate(),C[t.getMonth()],e].join(" ")}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}var E=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},T=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,i=o.length,a=(t+"").replace(T,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return o[n++]+"";case"%d":return+o[n++];case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}})),s=o[n];n<i;s=o[++n])a+=p(s)||!g(s)?" "+s:" "+r(s);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var P,x={};e.debuglog=function(n){if(d(P)&&(P=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!x[n])if(new RegExp("\\b"+n+"\\b","i").test(P)){var r=t.pid;x[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else x[n]=function(){};return x[n]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=l,e.isBoolean=f,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=h,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=d,e.isRegExp=m,e.isObject=g,e.isDate=b,e.isError=v,e.isFunction=w,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(222);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(223),e._extend=function(t,e){if(!e||!g(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var R="undefined"==typeof Symbol?void 0:Symbol("util.promisify.custom");e.promisify=function(t){function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(R&&t[R]){var e;if("function"!=typeof(e=t[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),R&&Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,E(t))},e.promisify.custom=R,e.callbackify=function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(S,e,a)}))}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,E(e)),n}}).call(this,n(221))},218:function(t,e,n){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(3>arguments.length?t:n):o.value}}).apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=n(0),h=n.n(p),y=n(2),d=n(66),m=n(14),g=n(82),b=n(43),v=n(78),w=n(24),O=n(61),_=n(106),k=n(96),j=function(e){function n(e){var o;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),h()("body").append(n.HTML).addClass("fnd"),e.listTarget="#facilities div",e.mapTarget="#map",e.dialogTarget="body",e.mouseWheelZoom=void 0===e.mouseWheelZoom||e.mouseWheelZoom,o=r.call(this,e),t.finderApp=l(o),o.pager.find("h2.info").addClass("screen-reader-only");var i=h()("<span></span>").html(e.title);return y.a.noSpaceBarScroll(),h()("#banner").html(i),h()("#home").attr("title",i.text()),h()(".fnd #home").on("click",(function(){return n.reload()})),o.filters=o.createFilters(e.filterChoiceOptions),o.tabs=o.createTabs(e),h()("#map").attr("tabindex",-1),o.adjustTabs(),o.showSplash(e.splashOptions,e.title),new g.a({target:"#map"}),o.translate=o.translateBtn(e),o.directions=null,o.directionsUrl=e.directionsUrl,o.defaultDirectionsMode=e.defaultDirectionsMode,o.mobileDia=new m.a({css:"shw-lst"}),o.screenReaderDialog=new m.a({css:"screen-reader-info"}),h()("#screen-reader-info").on("click",h.a.proxy(o.screenReaderInfo,l(o))),h()(".shw-lst .btn-yes span").html("View nearby ".concat(h()("#tab-btn-1").html()," in an accessible list")),o.setRefresh(e.refresh),h()(window).on("load resize",h.a.proxy(o.adjustBanner,l(o))),o.translate.on("change",o.adjustBanner,l(o)),o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,e);var r=c(n);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(n,[{key:"adjustBanner",value:function(){setTimeout((function(){var t=h()("h1#banner>span, h1#banner>span *"),e=h()("h1#banner"),n=h()("a#screen-reader-info"),r=h()("button#back-to-map"),o=parseInt(e.css("padding-left")||0),i=r;document.contains(h()("#directions")[0])&&"none"!==h()("#directions").css("display")||(i=n),t.css("font-size","24px"),e.css("padding-right","0"),t.width()>=e.innerWidth()-o-i.innerWidth()&&(t.css("font-size","16px"),e.css("padding-right","".concat(i.innerWidth(),"px")))}),1200)}},{key:"setRefresh",value:function(t){if(t){var e=this;setInterval((function(){var n=e.source.getUrl().split("?")[0],r=new k.a({url:"".concat(n,"?").concat(y.a.cacheBust(.33)),format:e.source.getFormat()});r.autoLoad().then((function(){e.source=r,e.filters.source=r,e.filters.filter(),e.layer.setSource(r),e.resetList(),t.callback&&t.callback()}))}),60*t.minutes*1e3)}}},{key:"translateBtn",value:function(t){var e=t.languages||w.a.DEFAULT_LANGUAGES;if(t.splashOptions){var n=new O.a({target:".fnd .splash .dia-btns",languages:e});return h()(".splash .dia-btns").append(h()(".splash .btn-no")),n}return new O.a({target:"body",languages:e,button:!0})}},{key:"resetList",value:function(t){i(f(n.prototype),"resetList",this).call(this,t),t instanceof _.a&&h()("#tabs .btns .btn-2").addClass("filtered")}},{key:"createParentFormat",value:function(t){return t.facilityFormat.parentFormat||t.facilityFormat}},{key:"createDecorations",value:function(t){var e=t.facilityFormat,n=[d.a.FEATURE_DECORATIONS,{app:this}];return e.parentFormat&&e.parentFormat.decorations&&(n=n.concat(e.parentFormat.decorations)),e.decorations&&(n=n.concat(e.decorations)),t.decorations&&(n=n.concat(t.decorations)),n}},{key:"zoomTo",value:function(t){"none"!==h()("#tabs .btns h2:first-of-type").css("display")&&this.tabs.open("#map"),i(f(n.prototype),"zoomTo",this).call(this,t)}},{key:"located",value:function(t){i(f(n.prototype),"located",this).call(this,t),this.focusFacilities()}},{key:"directionsTo",value:function(t,e){this.directions||(this.directions=new v.a({url:this.directionsUrl,toggle:"#tabs",mode:this.defaultDirectionsMode}),h()("button#back-to-map").on("click",h.a.proxy(this.adjustBanner,this)));var n=t.getFullAddress(),r=t.getName(),o=this.getFromAddr();this.directions.directions({from:o,to:n,facility:r,origin:this.location,destination:{name:t.getName(),coordinate:t.getGeometry().getCoordinates()},returnFocus:e}),this.adjustBanner()}},{key:"createFilters",value:function(t){if(t){var e=this;h()("#filters").empty();var n=h()('<button class="apply">Apply</button>'),r=new _.a({target:"#filters",source:e.source,choiceOptions:t});return r.on("change",e.resetList,e),h()("#filters").append(n),n.on("click tap keypress",(function(){e.focusFacilities(!0)})),r}}},{key:"createTabs",value:function(t){var e=[{tab:"#map",title:'<span class="msg-map">Map</span>'},{tab:"#facilities",title:t.facilityTabTitle||'<span class="msg-facilities">Facilities</span>'}];t.splashOptions?h()("#tabs").attr("aria-hidden",!0):h()("#screen-reader-info").attr("role","alert"),this.filters&&e.push({tab:"#filters",title:t.filterTabTitle||'<span class="msg-filters">Filters</span>'});var n=new b.a({target:"#tabs",tabs:e});return n.on("change",this.tabChange,this),h()(window).resize(h.a.proxy(this.adjustTabs,this)),n}},{key:"isMobile",value:function(){return"none"!==h()("#tabs .btns>h2:first-of-type").css("display")}},{key:"isTab",value:function(t){return this.tabs.active.get(0).id===t}},{key:"mobileDiaOpts",value:function(){var t=this.location,e=t.name,n=this.source.sort(t.coordinate)[0],r={buttonText:['<span class="msg-vw-list">View '.concat(h()("#tab-btn-1").text()," list</span>"),'<span class="msg-vw-map">View the map</span>']};return n.getName()===e?r.message="<strong>".concat(e,"</strong>"):(r.message="<strong>".concat(n.getName(),"</strong><br>")+'<span class="msg-closest">is closest to your location</span><br>',"geolocated"!=t.type&&(r.message+="<strong>".concat(e,"</strong>"))),r}},{key:"focusFacilities",value:function(t){var e=this,n=this.tabs,r=this.mobileDia;if(!t&&this.isMobile()&&this.isTab("map")){if("none"===h()(".shw-lst").css("display")){var o=this.mobileDiaOpts();setTimeout((function(){r.yesNo(o).then((function(t){t&&(n.open("#facilities"),e.focusInfo())}))}),250)}}else n.open("#facilities"),this.focusInfo()}},{key:"showSplash",value:function(t,e){var n=this,r=this.locationMgr.search.input;if(t){var o=h()("<div></div>").append(t.message);0===o.find("h1").length&&(o.prepend('<h1 class="screen-reader-only">'.concat(e,"</h1>")),t.message=o.html()),t.buttonText=t.buttonText||['<span class="msg-sr-info">Screen reader instructions</span>','<span class="msg-continue">Continue</span>'],new m.a({css:"splash"}).yesNo(t).then((function(t){t?n.screenReaderInfo():(h()("#tabs").attr("aria-hidden",!1),n.translate.showButton("#map"),r.trigger("focus"))}))}else r.trigger("focus")}},{key:"screenReaderInfo",value:function(){var t=this,e=this.locationMgr.search.input;this.screenReaderDialog.find(".btn-ok").one("focus",(function(){h()(".screen-reader-info h1").trigger("focus")})),this.screenReaderDialog.ok({message:n.SCREEN_READER_INFO,buttonText:["Return to the map"]}).then((function(){h()("#tabs").attr("aria-hidden",!1),t.translate.showButton("#map"),e.trigger("focus")})),h()(".screen-reader-info .dia").get(0).scrollTop=0}},{key:"adjustTabs",value:function(){"block"===h()("#directions").css("display")||y.a.activeElement().isTextInput||(this.isMobile()&&("block"===h()("#facilities").css("display")?this.tabs.open("#facilities"):this.tabs.open("#map")),this.moveSearch(this.tabs)),this.isMobile()||y.a.activeElement().isTextInput||this.tabs.open("#facilities"),this.map.setSize([h()("#map").width(),h()("#map").height()])}},{key:"tabChange",value:function(){this.isMobile()?this.moveSearch(this.tabs):h()("#map").attr("aria-hidden",!1),this.map.setSize([h()("#map").width(),h()("#map").height()])}},{key:"moveSearch",value:function(t){var e=this.map,n=t.getContainer(),r=h()(".srch-ctl");this.isTab("facilities")&&this.isMobile()?(n.prepend(r.addClass("lst-srch")),n.prepend(t.find(".btns").get(0))):h()(e.getTargetElement()).find(".ol-overlaycontainer-stopevent").append(h()(".srch-ctl").removeClass("lst-srch"))}}]),n}(d.a);j.reload=function(){document.location.reload()},j.Options,j.RefreshOptions,j.HTML='<h1 id="banner" role="banner"></h1>\n<a id="screen-reader-info" class="btn-sq" href="#">\n  <span class="screen-reader-only">screen reader instructions</span>\n</a>\n<a id="home" role="button" href="#">\n  <span class="screen-reader-only">Reload page</span>\n  <svg xmlns="http://www.w3.org/2000/svg" width="152" height="52">\n    <g transform="translate(1.5,0)">\n      <polygon points="15.5,1.2 3.1,1.2 0,4.3 0,47.7 3.1,50.8 15.5,50.8 18.6,47.7 18.6,35.3 34.1,50.8 46.6,50.8 49.7,47.7 49.7,4.3 46.6,1.2 34.1,1.2 31,4.3 31,16.7 "/>\n      <polygon points="83.8,47.7 83.8,38.4 99.3,22.9 99.3,10.5 99.3,4.3 96.2,1.2 83.8,1.2 80.7,4.3 80.7,10.5 74.5,16.7 68.3,10.5 68.3,4.3 65.2,1.2 52.8,1.2 49.7,4.3 49.7,22.9 65.2,38.4 65.2,47.7 68.3,50.8 80.7,50.8 "/>\n      <polygon points="145.9,29.1 130.4,29.1 130.4,32.2 118,32.2 118,19.8 130.4,19.8 130.4,22.9 145.9,22.9 149,19.8 149,10.5 139.7,1.2 108.6,1.2 99.3,10.5 99.3,41.5 108.6,50.8 139.7,50.8 149,41.5 149,32.2 "/>\n    </g>\n  </svg>\n</a>\n<div id="map"></div>\n<div id="tabs"></div>\n<div id="facilities"><div role="region"></div></div>\n<div id="filters"></div>',j.SCREEN_READER_INFO='<h1 tabindex="0" aria-live="polite">Screen reader Instructions for NYC Finder Apps</h1>\n<h2>Getting started</h2>\n<p>\n  This finder app uses the NYC DoITT nyc-lib javascript library which templates mapping \n  applications and provides accessibility functionality. Below are general screen reader \n  instructions on how to use all of the finder apps that use this template. \n  When the application first loads, there is a dialogue box with an introduction to each \n  specific finder app. Users can navigate to the continue or view map link and press \n  enter to proceed to the finder app. There is a "Reload" button that is always near \n  the top of the page that takes users back to this initial dialogue.    \n</p>\n<h2>Search for an address</h2>\n<p>\n  Users can enter an address to get a list of nearby locations. When the finder app loads, \n  screen reader and keyboard focus is dropped into a search field. Input an address then \n  press enter to submit. \n</p>\n<p>\n  If the address was entered correctly, the list of locations will \n  update, screen readers will announce the number of results and shift focus to the \n  beginning of the search results.\n</p>\n<p>\n  If there are address suggestions, focus will shift to the first suggestion. Press tab \n  to cycle through suggestions and enter to select an address. Screen readers will announce\n  the number of results and focus will shift to the beginning of the results area.\n</p>\n<h2>Navigating results</h2>\n<p>\n  Screen reader users can navigate by headings to browse through each result. For JAWS and \n  NVDA, press the "H" key. For Voiceover users, press Command, Option, Control and "H" or \n  just "H" with Quicknav and single letter navigation turned on. \n</p>\n<p>\n  Screen reader users can also use regions to navigate to different areas such as the banner,\n  search form, and list of results. Jaws users can press the "R" key. NVDA users can press \n  the "D" key. Voiceover users can pull up a list of regions if it is included in their web\n  rotor settings.    \n</p>\n<h2>Filtering results</h2>\n<p>\n  Users can filter results to get more specific results. Screen reader users can navigate by \n  headings to get to the "Filters" tab. It is towards the top of the page. JAWS and NVDA \n  users can press enter on the "Filters" tab in order to navigate to the filters page. \n  Voiceover users can press control, option and space bar.    \n</p>\n<p>\n  On the filters page are checkboxes with different filtering options. JAWS and NVDA users \n  can press "X" to navigate through the various filter options and space bar to select \n  each one. Voiceover users can use control, option and the arrow keys to navigate then \n  control, option and space bar to select a filter.    \n</p>\n<p>\n  Once a user has selected the filters they would like to apply, they can navigate to the \n  apply button. JAWS and NVDA users can press enter or spacebar to activate the "Apply" \n  button. Voiceover users can press control, option and space bar. The finder app will then \n  return to an updated list of results where screen reader users can navigate by heading \n  from one entry to another.    \n</p>\n<h2>Translate and share</h2>\n<p>\n  Below the search field are options to translate or share this page. JAWS and NVDA users \n  can use the tab key to navigate to them. Screen reader users can also navigate to them \n  using regions. JAWS users can press the R key to navigate to the translate or share \n  regions. NVDA users can use the D key to navigate to those regions. Voiceover users can \n  pull up a list of regions if it is included in their web rotor settings.    \n</p>\n<p>\n  To translate, navigate to the translate combobox. JAWS and NVDA users can press enter to \n  open the combobox and the arrow keys to navigate through the options. Voiceover users \n  can open the combobox by pressing control, option and space bar then the arrow keys to \n  navigate through the options. All users can then press enter or return to make a selection.    \n</p>\n<p>\n  To share this page, navigate to the share button or region. JAWS and NVDA users can press \n  enter on the Share toggle button to expand the share options. Voiceover users can press \n  control, option and space bar. All users can then use tab or the arrow keys to navigate \n  through the different share options and press enter or return to make a selection.     \n</p>\n<h2>Travel directions</h2>\n<p>\n  When browsing through each result, users can press enter on the "Directions" button in \n  order to get travel directions.     \n</p>\n<p>\n  The screen that follows has Google maps directions for transit, walking, driving and ride \n  services. There is also an option for MTA Trip Planner which can give wheelchair accessible \n  directions. Please note that if a user chooses MTA Trip Planner, they will be taken to an \n  external website.    \n</p>\n<h2>Contact support</h2>\n<p>To submit feedback about your experience or request assistance please <a href="https://www1.nyc.gov/nyc-resources/contact-the-citys-digital-accessibility-coordinator.page">contact the \n  Digital Accessibility Coordinator</a> at the Mayor\'s Office for People with Disabilities.\n</p>',e.a=j}).call(this,n(51))},219:function(t){t.exports=ol.format.WKT},220:function(t){t.exports=ol.geom.Polygon},221:function(t){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){h&&f&&(h=!1,f.length?p=f.concat(p):y=-1,p.length&&i())}function i(){if(!h){var t=r(o);h=!0;for(var e=p.length;e;){for(f=p,p=[];++y<e;)f&&f[y].run();y=-1,e=p.length}f=null,h=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function s(){}var c,u,l=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(t){c=e}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var f,p=[],h=!1,y=-1;l.nextTick=function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new a(t,e)),1!==p.length||h||r(i)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.prependListener=s,l.prependOnceListener=s,l.listeners=function(){return[]},l.binding=function(){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},222:function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},223:function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},23:function(t,e){"use strict";function n(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(t,[{key:"replace",value:function(t,e){return Object.keys(e).forEach((function(n){t=t.replace(new RegExp("\\$\\{"+n+"\\}","g"),void 0===e[n]?"":e[n])})),t}}]),t}();e.a=r},24:function(t,e,n){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=function(e){function n(e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o=r.call(this,e.target),t.nycTranslateInstance=c(o),o.defaultLanguage=e.defaultLanguage||"en",o.button=e.button,o.languages=e.languages||n.DEFAULT_LANGUAGES,o.hints=[],o.namedCodes={},o.code="",o.messages={},Object.keys(o.languages).forEach((function(t){o.messages[t]={},Object.assign(o.messages[t],n.DEFAULT_MESSAGES[t]),e.messages&&e.messages[t]&&Object.assign(o.messages[t],e.messages[t])})),o.defaultMessages=null,o.messages&&(!o.messages[o.defaultLanguage]&&(o.defaultLanguage=o.defaultLang()),!o.messages[o.defaultLanguage]&&(o.defaultLanguage="en"),o.defaultMessages=o.messages[o.defaultLanguage]),o.code=o.defaultLanguage,o.render(e.target),o.monitoring=!1,o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,e);var r=a(n);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(n,[{key:"monitor",value:function(){var t=this;if(!this.monitoring){setInterval((function(){t.translate()}),1e3),this.monitoring=!0}}},{key:"translate",value:function(t){var e=this,n=t?f()(t.target).val():this.lang();this.monitor(),this.code=n,f()("html").attr("lang",n),this.languages[n].rtl?f()("html").removeClass("translated-ltr").addClass("translated-rtl"):f()("html").removeClass("translated-rtl").addClass("translated-ltr");var r=this.messages[n]||this.defaultMessages;Object.keys(this.defaultMessages).forEach((function(t){var n=r[t]||e.defaultMessages[t];f()(".".concat(t)).not(".notranslate").html(n),f()('*[data-lng-key="'.concat(t,'"]')).not(".notranslate").html(n),f()('*[data-msg-key="'.concat(t,'"]')).not(".notranslate").each((function(t,e){f()(e).attr(f()(e).data("msg-attr"),n)}))})),this.css(),t&&this.trigger("change",this)}},{key:"lang",value:function(){return this.code}},{key:"langFromCookie",value:function(){return""}},{key:"render",value:function(t){var e=this,r=[],o=f()(n.HTML);f()(t).append(o);var i=this.find("select");Object.keys(this.languages).forEach((function(t){var n=e.languages[t].code,o=f()('<option class="notranslate" translate="no"></option>').attr("value",t).html(e.languages[t].native).addClass(e.languages[t].rtl?"rtl":"");i.append(o),r.push(n),e.hints.push(e.languages[t].hint),e.namedCodes[n]=t})),this.codes=r.toString(),this.find("select").change(f.a.proxy(this.translate,this)),this.selectDefault(),this.showHint(),this.button?this.showButton():this.showMenu(),i.focus((function(){i.prev().addClass("focused")})),i.blur((function(){i.prev().removeClass("focused")})),this.trigger("ready",this)}},{key:"showButton",value:function(t){this.alterDisplay(!0,t)}},{key:"showMenu",value:function(t){this.alterDisplay(!1,t)}},{key:"alterDisplay",value:function(t,e){t?(f()("#lng div.rad-all").removeClass("btn").addClass("btn-sq"),f()("#lng select").removeClass("menu")):(f()("#lng div.rad-all").addClass("btn").removeClass("btn-sq"),f()("#lng select").addClass("menu")),e&&f()(e).append(f()("#lng"))}},{key:"css",value:function(){f()("body")[this.code===this.defaultLanguage?"removeClass":"addClass"]("translated")}},{key:"defaultLang",value:function(){return navigator.language.split("-")[0]}},{key:"selectDefault",value:function(){var t=this.defaultLang(),e=this.langFromCookie(),n=[],r=[];Object.values(this.languages).forEach((function(o){var i=o.code;0===e.indexOf(i)?n.push(i):0===e.indexOf(t)&&r.push(i)}));var o=n[0]||r[0]||"en";this.find("select").val(this.languages[o].code).trigger("change")}},{key:"showHint",value:function(){if(!this.button){var t=this.hints,e=this.find(".hint"),n=0;setInterval((function(){e.html(t[n]||"Translate"),(n+=1)===t.length&&(n=0)}),1e3)}}}]),n}(n(3).a);p.Options,p.Choice,p.Choices,p.DEFAULT_LANGUAGES={en:{code:"en",name:"English",native:"English",hint:"Translate"},ar:{code:"ar",name:"Arabic",native:"",rtl:!0},bn:{code:"bn",name:"Bengali",native:"",hint:"&#x985;&#x9A8;&#x9C1;&#x9AC;&#x9BE;&#x9A6; &#x995;&#x9B0;&#x9BE;"},zh:{code:"zh-TW",name:"Chinese (Traditional)",native:"",hint:"&#x7FFB;&#x8BD1;"},fr:{code:"fr",name:"French",native:"Fran&#231;ais",hint:"Traduire"},iw:{code:"iw",name:"Hebrew",native:"&#x05E2;&#x05D1;&#x05E8;&#x05D9;&#x05EA;",hint:"&#x05DC;&#x05EA;&#x05E8;&#x05D2;&#x05DD;",rtl:!0},ht:{code:"ht",name:"Haitian Creole",native:"Krey&#242;l Ayisyen",hint:"Tradui"},ko:{code:"ko",name:"Korean",native:"&#xD55C;&#xAD6D;&#50612;",hint:"&#xBC88;&#xC5ED;"},pl:{code:"pl",name:"Polish",native:"polski",hint:"jzyk polski"},ru:{code:"ru",name:"Russian",native:"P&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;",hint:"&#x43F;&#x435;&#x440;&#x435;&#x432;&#x435;&#x441;&#x442;&#x438;"},it:{code:"it",name:"Italian",native:"Italiano",hint:"Tradurre"},es:{code:"es",name:"Spanish",native:"Espa&#241;ol",hint:"Traducir"},ur:{code:"ur",name:"Urdu",native:"",hint:"&#x6BA;&#x6CC;&#x631;&#x6A9;&#x6C1;&#x645;&#x62C;&#x631;&#x62A;",rtl:!0},yi:{code:"yi",name:"Yiddish",native:"",hint:"",rtl:!0}},p.DEFAULT_MESSAGES={en:{"msg-filters":"Filters","msg-map":"Map","msg-facilities":"Facilities","msg-dir":"Directions","msg-dir-map":"Route map","msg-dtl":"Details","msg-web":"Website","msg-email":"Email","msg-srch":"Search for an address...","msg-back-to-finder":"Back to finder","msg-dir-from":"From my location: ","msg-dir-input":"Enter an address...","msg-dir-to":"To: ","msg-z-in":"Zoom in","msg-z-out":"Zoom out","msg-geo":"Current location","msg-shr":"Share","msg-translate":"Translate","msg-transit":"Get transit directions","msg-bike":"Get bicycling directions","msg-car":"Get driving directions","msg-walk":"Get walking directions","msg-mta":"Get accessible transit directions from the MTA","msg-sr-map":"Locate this facility on the map","msg-prv":"Previous","msg-nxt":"Next","msg-clr":"Clear","msg-more":"More...","msg-yes":"Yes","msg-no":"No","msg-no-dir":"Could not determine directions from your location","msg-unk-addr":"The location you entered was not understood","msg-ok":"OK","msg-cancel":"Cancel","msg-vw-list":"View facilities list","msg-vw-map":"View map","msg-closest":"is closest to your location","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},ar:{"msg-filters":"","msg-map":"","msg-facilities":"","msg-dir":"","msg-dir-map":" ","msg-dtl":"","msg-web":" ","msg-email":" ","msg-srch":"  ...","msg-back-to-finder":"  ","msg-dir-from":" : ","msg-dir-input":" ...","msg-dir-to":": ","msg-z-in":"","msg-z-out":"","msg-geo":" ","msg-shr":"","msg-translate":"","msg-transit":"    ","msg-bike":"    ","msg-car":"   ","msg-walk":"   ","msg-mta":"         MTA","msg-sr-map":"    ","msg-prv":"","msg-nxt":"","msg-clr":"","msg-more":"...","msg-yes":"","msg-no":"","msg-no-dir":"    ","msg-unk-addr":"   ","msg-ok":"","msg-cancel":"","msg-vw-list":"View facilities list","msg-vw-map":" ","msg-closest":"  ","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},bn:{"msg-filters":"","msg-map":"","msg-facilities":"","msg-dir":"","msg-dir-map":" ","msg-dtl":"","msg-web":"","msg-email":"","msg-srch":"   ...","msg-back-to-finder":"-  ","msg-dir-from":"  : ","msg-dir-input":"  ...","msg-dir-to":": ","msg-z-in":"-","msg-z-out":"-","msg-geo":" ","msg-shr":"","msg-translate":"","msg-transit":"   ","msg-bike":"   ","msg-car":"   ","msg-walk":"   ","msg-mta":"MTA      ( )","msg-sr-map":"    ","msg-prv":"","msg-nxt":"","msg-clr":"","msg-more":"...","msg-yes":"","msg-no":"","msg-no-dir":"       ","msg-unk-addr":"     ","msg-ok":" ","msg-cancel":" ","msg-vw-list":"View facilities list","msg-vw-map":" ","msg-closest":"    ","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},zh:{"msg-filters":"","msg-map":"","msg-facilities":"","msg-dir":"","msg-dir-map":"","msg-dtl":"","msg-web":"","msg-email":"","msg-srch":"...","msg-back-to-finder":"","msg-dir-from":": ","msg-dir-input":"...","msg-dir-to":": ","msg-z-in":"","msg-z-out":"","msg-geo":"","msg-shr":"","msg-translate":"","msg-transit":"","msg-bike":"","msg-car":"","msg-walk":"","msg-mta":"MTA","msg-sr-map":"","msg-prv":"","msg-nxt":"","msg-clr":"","msg-more":"...","msg-yes":"","msg-no":"","msg-no-dir":"","msg-unk-addr":"","msg-ok":"","msg-cancel":"","msg-vw-list":"View facilities list","msg-vw-map":"","msg-closest":"","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},fr:{"msg-filters":"Filtres","msg-map":"Plan","msg-facilities":"Installations","msg-dir":"Itinraires","msg-dir-map":"Plan de route","msg-dtl":"Dtails","msg-web":"Site Internet","msg-email":"E-mail","msg-srch":"Rechercher une adresse ...","msg-back-to-finder":"Retour  la recherche","msg-dir-from":"Mon point de dpart : ","msg-dir-input":"Entrer une adresse","msg-dir-to":" : ","msg-z-in":"Zoomer","msg-z-out":"Dzoomer","msg-geo":"Lieu actuel","msg-shr":"Partager","msg-translate":"Traduction","msg-transit":"Obtenir les itinraires en transports en commun","msg-bike":"Obtenir les itinraires  vlo","msg-car":"Obtenir les itinraires routiers","msg-walk":"Obtenir les itinraires  pied","msg-mta":"Obtenir les itinraires en transports en commun accessibles depuis le MTA","msg-sr-map":"Localiser cette installation sur la carte","msg-prv":"Prcdent","msg-nxt":"Prochain","msg-clr":"Effacer","msg-more":"Plus...","msg-yes":"Oui","msg-no":"Non","msg-no-dir":"Ne peut pas tablir l'itinraire  partir de votre emplacement","msg-unk-addr":"L'adresse que vous avez tape, n'est pas reconnue","msg-ok":"OK","msg-cancel":"Annuler","msg-vw-list":"View facilities list","msg-vw-map":"Voir le plan","msg-closest":"est le plus proche de votre adresse","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},iw:{"msg-filters":"","msg-map":"","msg-facilities":"","msg-dir":"","msg-dir-map":" ","msg-dtl":"","msg-web":" ","msg-email":"","msg-srch":"  ...","msg-back-to-finder":" ","msg-dir-from":" :","msg-dir-input":" ...","msg-dir-to":": ","msg-z-in":"","msg-z-out":"  ","msg-geo":" ","msg-shr":"","msg-translate":"","msg-transit":"  ","msg-bike":"  ","msg-car":"  ","msg-walk":"  ","msg-mta":"    - MTA","msg-sr-map":"     ","msg-prv":"","msg-nxt":"","msg-clr":"","msg-more":"...","msg-yes":"","msg-no":"","msg-no-dir":"Could not determine directions from","msg-unk-addr":"The location you entered was not understood","msg-ok":"OK","msg-cancel":"Cancel","msg-vw-list":"View facilities list","msg-vw-map":"View map","msg-closest":"is closest to your location","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},ht:{"msg-filters":"Filt yo","msg-map":"Kat","msg-facilities":"Enstalasyon yo","msg-dir":"Esplikasyon","msg-dir-map":"Kat wout la","msg-dtl":"Detay yo","msg-web":"Sit wb","msg-email":"Iml","msg-srch":"Chche yon adrs ...","msg-back-to-finder":"Retounen Nan Lokalizat","msg-dir-from":"Apati anplasman mwen: ","msg-dir-input":"Antre yon adrs...","msg-dir-to":"Pou: ","msg-z-in":"Agrandi","msg-z-out":"Diminye","msg-geo":"Anplasman aktyl","msg-shr":"Pataje","msg-translate":"Tradui","msg-transit":"Jwenn direksyon transp piblik yo","msg-bike":"Jwenn direksyon sou bisiklt","msg-car":"Jwenn direksyon pou kondwi","msg-walk":"Jwenn direksyon pou mache","msg-mta":"Jwenn direksyon transp ki aksesib soti nan MTA a","msg-sr-map":"Jwenn etablisman sa a sou kat la","msg-prv":"Anvan yo","msg-nxt":"Pwochen","msg-clr":"Kl","msg-more":"Plis...","msg-yes":"Wi","msg-no":"Non","msg-no-dir":"Li pa t posib pou jwenn chemen pou f a apatide kote ou ye a","msg-unk-addr":"Kote ou make a pa kl","msg-ok":"OK","msg-cancel":"Anile","msg-vw-list":"View facilities list","msg-vw-map":"Gade kat la","msg-closest":"pi pre kote ou ye a","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},ko:{"msg-filters":"","msg-map":"","msg-facilities":"","msg-dir":" ","msg-dir-map":" ","msg-dtl":"","msg-web":" ","msg-email":"","msg-srch":" ...","msg-back-to-finder":" ","msg-dir-from":" : ","msg-dir-input":" ...","msg-dir-to":": ","msg-z-in":"","msg-z-out":"","msg-geo":" ","msg-shr":"","msg-translate":"","msg-transit":"   ","msg-bike":"  ","msg-car":"  ","msg-walk":"  ","msg-mta":"MTA      ","msg-sr-map":"   ","msg-prv":"","msg-nxt":"","msg-clr":"","msg-more":" ...","msg-yes":"","msg-no":"","msg-no-dir":"     ","msg-unk-addr":"    ","msg-ok":"","msg-cancel":"","msg-vw-list":"View facilities list","msg-vw-map":" ","msg-closest":"  ","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},pl:{"msg-filters":"Filtry","msg-map":"Mapa","msg-facilities":"Budynki","msg-dir":"Jak dojecha","msg-dir-map":"Mapa trasy","msg-dtl":"Szczegy","msg-web":"Strona internetowa","msg-email":"E-mail","msg-srch":"Wyszukiwanie adresu...","msg-back-to-finder":"Wr do wyszukiwania","msg-dir-from":"Z mojej lokalizacji: ","msg-dir-input":"Wpisz adres...","msg-dir-to":"Do: ","msg-z-in":"Powikszenie","msg-z-out":"Zmniejszenie","msg-geo":"Obecna lokalizacja","msg-shr":"Przeka dalej","msg-translate":"Tumaczenie","msg-transit":"Uzyskaj wskazwki dojazdu transportem publicznym","msg-bike":"Uzyskaj wskazwki dojazdu rowerem","msg-car":"Uzyskaj wskazwki dojazdu samochodem","msg-walk":"Uzyskaj wskazwki piesze","msg-mta":"Uzyskaj z MTA wskazwki dojazdu  rodkami dostpnymi dla wzkw ","msg-sr-map":"Znajd ten obiekt na mapie","msg-prv":"Poprzedni","msg-nxt":"Kolejny","msg-clr":"Usu wszystko","msg-more":"Wicej...","msg-yes":"Tak","msg-no":"Nie","msg-no-dir":"Nie mona ustali trasy z twojej lokalizacji","msg-unk-addr":"Wpisana lokalizacja nie zostaa rozpoznana","msg-ok":"OK","msg-cancel":"Skasuj","msg-vw-list":"View facilities list","msg-vw-map":"Zobacz map","msg-closest":"jest najbliej do twojej lokalizacji","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},ru:{"msg-filters":"","msg-map":"","msg-facilities":"","msg-dir":"","msg-dir-map":" ","msg-dtl":"","msg-web":"-","msg-email":" ","msg-srch":"  ...","msg-back-to-finder":"  ","msg-dir-from":"  : ","msg-dir-input":" ...","msg-dir-to":": ","msg-z-in":"","msg-z-out":"","msg-geo":" ","msg-shr":"","msg-translate":"","msg-transit":"  ","msg-bike":"  ","msg-car":"  ","msg-walk":"  ","msg-mta":"     MTA","msg-sr-map":"    ","msg-prv":"","msg-nxt":"","msg-clr":"","msg-more":"...","msg-yes":"","msg-no":"","msg-no-dir":"      ","msg-unk-addr":"   ","msg-ok":"","msg-cancel":"","msg-vw-list":"View facilities list","msg-vw-map":" ","msg-closest":"   ","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},es:{"msg-filters":"Filtros","msg-map":"Mapa","msg-facilities":"Instalaciones","msg-dir":"Cmo llegar","msg-dir-map":"Mapa de ruta","msg-dtl":"Detalles","msg-web":"Sitio web","msg-email":"correo electrnico","msg-srch":"Busque una direccin...","msg-back-to-finder":"Volver al buscador","msg-dir-from":"Desde mi ubicacin: ","msg-dir-input":"Escriba una direccin...","msg-dir-to":"A: ","msg-z-in":"Acercar","msg-z-out":"Alejar","msg-geo":"Ubicacin actual","msg-shr":"Compartir","msg-translate":"Traducir","msg-transit":"Obtener indicaciones de trnsito","msg-bike":"Obtener indicaciones en bicicleta","msg-car":"Obtener direcciones en automvil","msg-walk":"Obtener indicaciones caminando","msg-mta":"Obtener indicaciones de trnsito accesibles de la MTA","msg-sr-map":"Ubique esta instalacin en el mapa","msg-prv":"Previo","msg-nxt":"Siguiente","msg-clr":"Eliminar","msg-more":"Ms...","msg-yes":"S","msg-no":"No","msg-no-dir":"No pudimos establecer la direccin desde su ubicacin","msg-unk-addr":"No pudimos entender la direccin que escribi","msg-ok":"OK","msg-cancel":"Cancelar","msg-vw-list":"View facilities list","msg-vw-map":"Ver mapa","msg-closest":"Se encuentra cercano a su direccin","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"},ur:{"msg-filters":"","msg-map":"","msg-facilities":"","msg-dir":"","msg-dir-map":"  ","msg-dtl":"","msg-web":" ","msg-email":" ","msg-srch":"   ...","msg-back-to-finder":"  ","msg-dir-from":"  : ","msg-dir-input":" ...","msg-dir-to":"  : ","msg-z-in":" ","msg-z-out":" ","msg-geo":" ","msg-shr":" ","msg-translate":" ","msg-transit":"    ","msg-bike":"     ","msg-car":"    ","msg-walk":"    ","msg-mta":"          ","msg-sr-map":"      ","msg-prv":"","msg-nxt":"","msg-clr":"","msg-more":"...","msg-yes":"","msg-no":"","msg-no-dir":"         ","msg-unk-addr":"    ","msg-ok":"","msg-cancel":"  ","msg-vw-list":"View facilities list","msg-vw-map":"  ","msg-closest":"    ","msg-sr-info":"Screen reader instructions","msg-continue":"Continue"}},p.HTML='<div id="lng" role="region"><span class="screen-reader-only">Translate this page into another language</span><div class="btn rad-all"><span class ="hint notranslate">Translate</span></div><select data-msg-key="msg-translate" data-msg-attr="title" title="Translate"></select><div id="lng-goog"></div></div>',e.a=p}).call(this,n(51))},25:function(t,e,n){"use strict";function r(t){for(var e in t)delete t[e]}function o(t){for(var e in t)return!1;return!e}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}));var i="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e,n=Object(t),r=1,o=arguments.length;r<o;++r)if(null!=(e=arguments[r]))for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n};"function"==typeof Object.values&&Object.values},26:function(t){t.exports=ol.style.Style},3:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).container=l()(t),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"getContainer",value:function(){return this.container}},{key:"find",value:function(t){return this.getContainer().find(t)}},{key:"prepend",value:function(t){return this.getContainer().prepend(l()(t))}},{key:"append",value:function(t){return this.getContainer().append(l()(t))}}]),e}(n(9).a);e.a=f},30:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.call(this)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"search",value:function(){throw"Not implemented"}}]),e}(n(9).a);e.a=u},31:function(t,e,n){"use strict";var r=n(0),o=n.n(r),i={hookupEvents:function(t){o()(t).on("drop",o.a.proxy(this.loadLayer,this)),o()(t).on("dragover",(function(t){t.preventDefault()}))},loadLayer:function(t){var e=t.originalEvent.dataTransfer;if(t.preventDefault(),t.stopPropagation(),e&&e.files.length){var n=e.files;"json"===n[0].name.split(".").pop().toLowerCase()?this.storage.loadGeoJsonFile(this,null,n[0]):this.storage.loadShapeFile(this,null,n)}},sortedPhotos:function(){var t=this,e=[];return Object.keys(this.photos).forEach((function(n){e.push(t.photos[n])})),e.sort((function(t,e){var n=t.name||t.get("name");return(e.name||e.get("name")).substr(0,4)-n.substr(0,4)}))},LabelType:{BASE:"base",PHOTO:"photo"}};e.a=i},41:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=n(2),p=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t.target)).getContainer().addClass("chc rad-all"),r.radio=t.radio,r.inputs=null,r.choices=t.choices,r.setChoices(r.choices),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"createContainer",value:function(){return l()(e.HTML)}},{key:"setChoices",value:function(t){var e=this;this.choices=t;var n="checkbox";this.radio?(this.getContainer().attr("role","radiogroup"),n="radio"):this.getContainer().attr("role","group"),this.getContainer().empty(),t.forEach((function(t,r){var o=e.createContainer(),i=f.a.nextId("chc-chc"),a=o.find("input");o.addClass(e.radio?"".concat(t.name,"-").concat(r):t.name),a.attr({id:i,name:t.name,type:n,role:n,"aria-checked":!0===t.checked}).prop("checked",!0===t.checked).data("choice",t).change(l.a.proxy(e.change,e)),o.find("label").html(t.label).attr("for",i),e.iconHtml(o,t),e.append(o),e.extend(t)})),this.inputs=this.find("input")}},{key:"iconHtml",value:function(t,e){if(e.icon){var n=t.find("td.input"),r=e.values.join("_").replace(/[^A-Za-z0-9\s|^_]/g,"").replace(/\s+/g,"-").toLowerCase();l()('<td class="ico chc-'.concat(r,'"><div></div></td>')).insertAfter(n)}}},{key:"val",value:function(t){var e=this;if(t)return t.forEach((function(t){e.extend(t)})),l.a.each(this.inputs,(function(e,n){l()(n).prop("checked",!1),t.some((function(t){var e=l()(n).data("choice");if(t.eq(e))return l()(n).prop("checked",!0),!0}))})),this.val();var n=[];return l.a.each(this.inputs,(function(t,e){l()(e).prop("checked")&&n.push(l()(e).data("choice"))})),n}},{key:"change",value:function(){l.a.each(this.inputs,(function(t,e){l()(e).attr("aria-checked",l()(e).prop("checked"))})),this.trigger("change",this)}},{key:"extend",value:function(t){l.a.extend(t,{eq:function(t){return this.name===t.name&&this.label===t.label&&JSON.stringify(this.value)===JSON.stringify(t.value)}})}}]),e}(n(3).a);p.Choice,p.Options,p.HTML='<div class="chc-chc"><table><tbody><tr><td class="input"><input></td><td><label></label></td></tr></tbody></table></div>',e.a=p},42:function(t){t.exports=window.Papa||{}},426:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){var r=t.length,o=1<n?n:2,i=e;void 0===i&&(i=2<o?t.slice():Array(r));for(var a=0;a<r;a+=o){i[a]=At*t[a]/180;var s=Lt*H(G(U*(+t[a+1]+90)/360));s>It?s=It:s<-It&&(s=-It),i[a+1]=s}return i}function m(t,e,n){var r=t.length,o=1<n?n:2,i=e;void 0===i&&(i=2<o?t.slice():Array(r));for(var a=0;a<r;a+=o)i[a]=180*t[a]/At,i[a+1]=360*Math.atan(Math.exp(t[a+1]/Lt))/U-90;return i}function g(t,e,n){var r=t.getCode(),o=e.getCode();r in Wt||(Wt[r]={}),Wt[r][o]=n}function b(t,e){var n;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];n=e}else n=t.slice();return n}function v(t){(function(t,e){Ht[t]=e})(t.getCode(),t),g(t,t,b)}function w(t){return"string"==typeof t?function(t){return Ht[t]||Ht[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function O(t){(function(t){t.forEach(v)})(t),t.forEach((function(e){t.forEach((function(t){e!==t&&g(e,t,b)}))}))}function _(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null===t?null:t}function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N(t);if(e){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}Math.atan2,Math.sqrt,Math.floor,Math.sin,Math.cos;var G=Math.tan,U=(Math.pow,Math.PI),H=(Math.abs,Math.log);Math.min,Math.max;n.r(e);n(169);var W=n(19),V=n(105),q=n(126),J=n(94),Z=n(106),Y=n(124),K=n(128),$=n(129),X=n(130),Q=n(137),tt=n(136),et=n(131),nt=n(132),rt=n(133),ot=n(66),it=n(0),at=n.n(it),st=n(57),ct=n(15),ut=n(97),lt=n(89),ft=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),at()("body").addClass("fm"),!1!==t.facilitySearch&&(t.facilitySearch={nameField:ct.a.NAME}),t.searchTarget?!0===t.searchTarget&&(t.searchTarget=void 0):t.searchTarget=!1,r=n.call(this,t),at()(r.map.getTargetElement()).addClass("nyc-map"),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"createParentFormat",value:function(t){return t.facilityLocationTemplate?new lt.a({geocoder:new st.a({url:t.geoclientUrl}),locationTemplate:t.facilityLocationTemplate}):new ut.a({url:t.facilityUrl,autoDetect:!0})}},{key:"createDecorations",value:function(t){var n=[ot.a.FEATURE_DECORATIONS];return n.push(e.FEATURE_DECORATIONS),t.decorations&&n.push(t.decorations),n.push({app:this}),n}}]),e}(ot.a);ft.FEATURE_DECORATIONS={getName:function(){return this.get(ct.a.NAME)},getAddress1:function(){return this.get(ct.a.ADDR1)},getAddress2:function(){return this.get(ct.a.ADDR2)||""},getCityStateZip:function(){return"".concat(this.get(ct.a.CITY)||this.get(ct.a.BORO),", ").concat(this.get(ct.a.STATE)||"NY"," ").concat(this.get(ct.a.ZIP))},getPhone:function(){return this.get(ct.a.PHONE)||""},getEmail:function(){return this.get(ct.a.EMAIL)||""},getWebsite:function(){return this.get(ct.a.WEBSITE)||""},detailsHtml:function(){var t=this.get(ct.a.DETAIL);if(t)return at()("<div></div>").append(t)}};var pt=n(218),ht=n(64),yt=n.n(ht),dt=n(65),mt=n.n(dt),gt=n(95),bt=n.n(gt),vt=n(219),wt=n.n(vt),Ot=n(98),_t=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=n.call(this)).dataProjection="EPSG:3857",t.featureProjection="EPSG:3857",t.wkt=new wt.a,t.lastId=0,t}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t);var n=p(e);return function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(e,[{key:"readFeature",value:function(t){var e,n=new yt.a(t);try{n.setGeometry(this.wkt.readGeometry(t.wkt_geom))}catch(t){n.setGeometry(new mt.a([0,0]))}return t.cartodb_id?e=t.cartodb_id:(e=this.lastId,this.lastId+=1),n.setId(e),n}},{key:"readFeatures",value:function(t){var e=this,n=[];return JSON.parse(t).rows.forEach((function(t){n.push(e.readFeature(t))})),n}},{key:"readProjection",value:function(){return"EPSG:3857"}},{key:"getType",value:function(){return Ot.a.TEXT}}]),e}(bt.a);_t.createSql=function(t){console.warn({options:t});var e=t.select?t.select:"cartodb_id, ST_AsText(the_geom_webmercator) wkt_geom, *";console.warn({select:e});var n=t.where?" WHERE ".concat(t.where):"";return console.warn("SELECT ".concat(e," FROM ").concat(t.from).concat(n)),"SELECT ".concat(e," FROM ").concat(t.from).concat(n)},_t.Options;var kt=n(134),jt={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},St={};St[jt.RADIANS]=6370997/(2*U),St[jt.DEGREES]=2*U*6370997/360,St[jt.FEET]=.3048,St[jt.METERS]=1,St[jt.USFEET]=1200/3937;var Et=jt,Tt=n(6),Pt=n(25),xt=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0===t.extent?null:t.extent,this.worldExtent_=void 0===t.worldExtent?null:t.worldExtent,this.axisOrientation_=void 0===t.axisOrientation?"enu":t.axisOrientation,this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||St[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Ct=n(12),Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lt=6378137,At=U*Lt,Dt=[-At,-At,At,At],Ft=[-180,-85,180,85],It=Lt*H(G(U/2)),Bt=function(t){function e(e){return t.call(this,{code:e,units:Et.METERS,extent:Dt,global:!0,worldExtent:Ft,getPointResolution:function(t,e){return t/Object(Ct.b)(e[1]/Lt)}})||this}return Rt(e,t),e}(xt),Mt=[new Bt("EPSG:3857"),new Bt("EPSG:102100"),new Bt("EPSG:102113"),new Bt("EPSG:900913"),new Bt("http://www.opengis.net/def/crs/EPSG/0/3857"),new Bt("http://www.opengis.net/gml/srs/epsg.xml#3857")],Nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zt=[-180,-90,180,90],Gt=function(t){function e(e,n){return t.call(this,{code:e,units:Et.DEGREES,extent:zt,axisOrientation:n,global:!0,metersPerUnit:6378137*U/180,worldExtent:zt})||this}return Nt(e,t),e}(xt),Ut=[new Gt("CRS:84"),new Gt("EPSG:4326","neu"),new Gt("urn:ogc:def:crs:OGC:1.3:CRS84"),new Gt("urn:ogc:def:crs:OGC:2:84"),new Gt("http://www.opengis.net/def/crs/OGC/1.3/CRS84","neu"),new Gt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Gt("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Ht={},Wt={};n(138);O(Mt),O(Ut),function(t,e,n,r){t.forEach((function(t){e.forEach((function(e){g(t,e,n),g(e,t,r)}))}))}(Ut,Mt,d,m);var Vt=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?w(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===Et.TILE_PIXELS&&(r=w(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return Object(Pt.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(Tt.b)()},t.prototype.readFeature=function(){return Object(Tt.b)()},t.prototype.readFeatures=function(){return Object(Tt.b)()},t.prototype.readGeometry=function(){return Object(Tt.b)()},t.prototype.readProjection=function(){return Object(Tt.b)()},t.prototype.writeFeature=function(){return Object(Tt.b)()},t.prototype.writeFeatures=function(){return Object(Tt.b)()},t.prototype.writeGeometry=function(){return Object(Tt.b)()},t}(),qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=function(t){function e(){return t.call(this)||this}return qt(e,t),e.prototype.getType=function(){return Ot.a.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(_(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(_(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(){return Object(Tt.b)()},e.prototype.readFeaturesFromObject=function(){return Object(Tt.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(_(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(){return Object(Tt.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(_(t))},e.prototype.readProjectionFromObject=function(){return Object(Tt.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(){return Object(Tt.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(){return Object(Tt.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(){return Object(Tt.b)()},e}(Vt),Zt=n(49),Yt=n.n(Zt),Kt=n(2),$t=n(21),Xt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).id=t.id,r.geometry=t.geometry||"the_geom",r.geoJson=new Yt.a,r.defaultFeatureProjection=Object($t.get)("EPSG:3857"),r.dataProjection=Object($t.get)("EPSG:4326"),r.lastExtent=null,r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,t);var n=E(e);return function(t,e,n){e&&j(t.prototype,e),n&&j(t,n)}(e,[{key:"readFeaturesFromObject",value:function(t,e){var n=this,r=[];return t.forEach((function(t){r.push(n.readFeatureFromObject(t,e))})),r}},{key:"readFeatureFromObject",value:function(t,e){var n=t,r=this.geoJson.readGeometry(n[this.geometry]);delete n[this.geometry];var o=new yt.a(n);return r.transform(e.dataProjection,e.featureProjection),o.setGeometry(r),o.setId(n[this.id]||Kt.a.nextId("SocrataJson")),o}},{key:"readProjection",value:function(){return new $t.get("EPSG:4326")}},{key:"getLastExtent",value:function(){return this.lastExtent}},{key:"setLastExtent",value:function(t){this.lastExtent=t}}]),e}(Jt);Xt.Options;var Qt=Xt,te=n(135),ee=n(96),ne=n(50),re=n.n(ne),oe=n(220),ie=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.format=new Qt({id:t.id,geometry:t.geometry}),t.url=e.urlFunction(t),n.call(this,t)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t);var n=R(e);return e}(re.a);ie.urlFunction=function(t){var e=t.url;return"function"==typeof e?e:(e="".concat(e,"?"),t.token&&(e="".concat(e,"&$$app_token=").concat(t.token)),e=t.limit?"".concat(e,"&$limit=").concat(t.limit):"".concat(e,"&$limit=2000000"),function(n,r,o){if(n[0]===1/0)return e;var i=t.geometry||"the_geom",a=Object(oe.fromExtent)(n).transform(o,"EPSG:4326").getExtent();return t.format.setLastExtent(a),"".concat(e,"&$where=within_box(").concat(i,",").concat(a[1],",").concat(a[0],",").concat(a[3],",").concat(a[2],")")})},ie.Options;var ae=n(26),se=n.n(ae),ce=n(63),ue=n.n(ce),le=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).url=t||e.URL,r.svg={},r.icons={},r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,t);var n=B(e);return function(t,e,n){e&&F(t.prototype,e),n&&F(t,n)}(e,[{key:"parseIcon",value:function(t){var e=t.icon;if("string"==typeof e){var n=e.split("#")[0];return{library:n.split("/")[0],name:n.split("/")[1],fill:t.fill||"#".concat(e.split("#")[1]),stroke:t.stroke}}return e}},{key:"style",value:function(t,n){var r=this,o=this.parseIcon(t),i=e.LIBRARIES[o.library].prefix,a=e.LIBRARIES[o.library].suffix,s="".concat(this.url,"/").concat(o.library,"/").concat(i).concat(o.name).concat(a,".svg"),c=this.svg[s];if(n=n||new se.a({}),c){var u="".concat(o.library,"-").concat(o.name,"-").concat(o.fill),l=t.width/e.LIBRARIES[o.library].width;if(c===e.NOT_FOUND_ICON.svg&&(l=t.width/e.NOT_FOUND_ICON.width),!this.icons[u]){var f=at()("<div></div>").html(c);if(c!==e.NOT_FOUND_ICON.svg){var p=o.stroke,h=f.find("svg").attr("style")||"",y="fill:".concat(o.fill);p&&(y="".concat(y,";stroke-width:").concat(p.width,";stroke:").concat(p.color)),f.find("svg").attr("style","".concat(h,";").concat(y))}this.icons[u]="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(f.html()))}n.setImage(new ue.a({src:this.icons[u],scale:l}))}else fetch(s).then((function(o){o.ok?o.text().then((function(e){r.svg[s]=at()(e)[2],r.style(t,n),r.trigger("icon-loaded",n)})):(r.svg[s]=e.NOT_FOUND_ICON.svg,r.style(t,n),console.error("Icon not found",s),r.trigger("icon-not-found",r))}));return n}}]),e}(n(9).a);le.Icon,le.Stroke,le.URL="https://maps.nyc.gov/nyc-lib/icons",le.LIBRARIES={"mapbox-maki":{width:15,prefix:"",suffix:"-15"}},le.NOT_FOUND_ICON={svg:'<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32"><circle cx="16" cy="16" r="14" stroke="#000" stroke-width="2" fill="rgba(0,0,0,.5)" /></svg>',width:32},le.StyleOptions;var fe=n(20),pe=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"uniqueValue"!==e.type)throw new Error("Only supports unique value rendering");this.renderer=e}return function(t,e,n){e&&z(t.prototype,e),n&&z(t,n)}(t,[{key:"style",value:function(t,e){for(var n,r=new se.a({}),o=[],i=1;4>i;i++)(n=this.renderer["field".concat(i)])&&o.push(t.get(n));var a=o.join(",");return this.renderer.uniqueValueInfos.some((function(t){if(t.value===a){var n=t.symbol;return r.setImage(new ue.a({src:"data:".concat(n.contentType,";base64,").concat(n.imageData),scale:e/n.width})),!0}})),r}}]),t}(),he=function(t,e){var n=Error("Unable to load drawingInfo from ".concat(t));return n.cause=e,n};pe.fetch=function(t){return new Promise((function(e,n){Object(fe.a)(t).then((function(r){r.json().then((function(r){try{e(new pe(r.drawingInfo.renderer))}catch(e){n(he(t,e))}}))})).catch((function(e){n(he(t,e))}))}))},window.nyc.ol=W.a,window.nyc.ol.Basemap=V.a,window.nyc.ol.FeaturePopup=q.a,window.nyc.ol.FeatureTip=J.a,window.nyc.ol.Filters=Z.a,window.nyc.ol.LocalStorage=Y.a,window.nyc.ol.LocationMgr=K.a,window.nyc.ol.Locator=$.a,window.nyc.ol.MapLocator=X.a,window.nyc.ol.MultiFeaturePopup=Q.a,window.nyc.ol.Popup=tt.a,window.nyc.ol.Zoom=et.a,window.nyc.ol.Geolocate=nt.a,window.nyc.ol.Search=rt.a,window.nyc.ol.MapMgr=ot.a,window.nyc.ol.FrameworkMap=ft,window.nyc.ol.FinderApp=pt.a,window.nyc.ol.format={},window.nyc.ol.format.StandardCsv=ct.a,window.nyc.ol.format.CsvAddr=lt.a,window.nyc.ol.format.CsvPoint=ut.a,window.nyc.ol.format.CartoSql=_t,window.nyc.ol.format.Decorate=kt.a,window.nyc.ol.format.SocrataJson=Qt,window.nyc.ol.source={},window.nyc.ol.source.AutoLoad=te.a,window.nyc.ol.source.FilterAndSort=ee.a,window.nyc.ol.source.SocrataJson=ie,window.nyc.ol.style={},window.nyc.ol.style.IconLib=le,window.nyc.ol.style.IconArcGis=pe},43:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=n(2),p=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t.target)).getContainer().append(l()(e.HTML)).addClass("tabs"),r.btns=r.find(".btns"),r.tabs=r.find(".container"),r.active=null,r.ready=!1,r.render(t.tabs),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"open",value:function(t){t=this.find(t),this.find(".btns h2").removeClass("active"),this.find(".tab").attr("aria-hidden",!0).removeClass("active"),this.btns.find(".btn").removeClass("active"),t.addClass("active").attr("aria-hidden",!1).attr("tabindex",1e3).focus(),this.find(".btn").attr("aria-selected",!1),t.data("btn").addClass("active").attr("aria-selected",!0).parent().addClass("active"),this.active=t,this.trigger("change",this)}},{key:"render",value:function(t){var n=this,r=!1;t.forEach((function(t,o){var i=f.a.nextId("tab-btn"),a=l()(t.tab).addClass("tab tab-".concat(o)).attr("aria-labelledby",i).attr("role","tabpanel").attr("aria-hidden",!0),s=a.attr("id")||f.a.nextId("tab-pnl");a.attr("id",s);var c=l()(e.BTN_HTML).attr("id",i).attr("aria-controls",s).attr("aria-selected",!1).click(l.a.proxy(n.btnClick,n)).addClass("btn-tab btn-".concat(o)).data("tab",a).append(t.title);a.data("btn",c),n.btns.append(l()("<h2></h2>").append(c)),n.tabs.append(a),t.active&&(n.open(a),r=!0)})),r||this.open(t[0].tab),this.ready=!0}},{key:"btnClick",value:function(t){this.open(l()(t.currentTarget).data("tab"))}}]),e}(n(3).a);p.Options,p.Tab,p.HTML='<div class="btns" role="tablist"></div><div class="container" tabindex="-1"></div>',p.BTN_HTML='<button class="btn" role="tab"></button>',e.a=p},48:function(t,e){"use strict";function n(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(t,[{key:"zoomLocation",value:function(){throw"Not implemented"}},{key:"setLocation",value:function(){throw"Not implemented"}},{key:"getProjection",value:function(){throw"Not implemented"}}]),t}();r.ZOOM_LEVEL=17,e.a=r},49:function(t){t.exports=ol.format.GeoJSON},50:function(t){t.exports=ol.source.Vector},51:function(t){var e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},54:function(t,e,n){"use strict";function r(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var o=n(0),i=n.n(o),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"filter",value:function(t,e,n){var r=this,o=3<n.length,a=6<n.length,s={exact:[],possible:[]},c=this.regexp(n),u=[],l=this.test;i.a.merge(i()(e).find("li"),i()(t).find("li")).each((function(t,e){u.push(i()(e)),l(c,i()(e),s,o,r.log)})),i()(t).append(u),s.exact.length?i()(e).prepend(s.exact):!a&&i()(e).prepend(s.possible)}},{key:"test",value:function(t,e,n,r){var o=e.html();r&&t.exact.test(o)&&n.exact.push(e),t.possible.test(o)&&n.possible.push(e)}},{key:"regexp",value:function(t){for(var e=new String(t.replace(/[^a-zA-Z0-9]/g,"")),n=new String(t.replace(/[^a-zA-Z0-9 ]/g,"")),r="^",o=0;o<e.length;o++)r+="(?=.*".concat(e.charAt(o),")|");return r=r.substr(0,r.length-1),r+=".*$",{exact:new RegExp("(".concat(n,")"),"i"),possible:new RegExp(r,"i")}}}]),t}();e.a=a},55:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=n(2),h=function(t){function e(t){var r;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),r=n.call(this,t.target);var o=f()(e.HTML),i=p.a.nextId("clsp-btn"),a=p.a.nextId("clsp-pnl");return o.find(".content").hide(),r.getContainer().append(o),r.btn=r.find("button").attr({id:i,"aria-controls":a}).append(t.title).click(f.a.proxy(r.toggle,c(r))),r.content=r.find(".content").append(f()(t.content)).attr({id:a,"aria-labelledby":i}),t.collapsed||r.toggle(),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"toggle",value:function(){var t="none"===this.content.css("display"),e=this;this.btn.toggleClass("rad-all").toggleClass("rad-top").attr("aria-pressed",t),this.content.attr({"aria-hidden":!t,"aria-collapsed":!t,"aria-expanded":t})[t?"slideDown":"slideUp"]((function(){e.trigger("change",e)}))}}]),e}(n(3).a);h.Options,h.HTML='<div class="clps rad-all"><button class="btn rad-all" aria-pressed="false"></button><div class="content rad-bot" aria-expanded="false" aria-collapsed="true" aria-hidden="true"></div></div>',e.a=h},56:function(t,e,n){"use strict";function r(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var o=n(2),i=n(0),a=n.n(i),s=o.a.proj4,c=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.url=e}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"directions",value:function(t){var e={jsonpacket:this.jsonpacket(t),rand:this.randomParamCopiedFromMtaCode()};this.window=window.open("".concat(this.getUrl(),"?").concat(a.a.param(e)))}},{key:"getUrl",value:function(){if(this.url)return this.url;var t=document.location.hostname,e=document.location.pathname,n=document.location.port;return n=n?":".concat(n):"","http://".concat(t).concat(n).concat(e,"/mta.html")}},{key:"jsonpacket",value:function(t){return JSON.stringify(this.insanifyRequest(t))}},{key:"randomParamCopiedFromMtaCode",value:function(){return Math.floor(11*Math.random())}},{key:"now",value:function(){var t=new Date,e=t.getHours();return{date:"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()),hour:13>e?e:e-12,minute:t.getMinutes(),ampm:12>e?"am":"pm"}}},{key:"insanifyLocation",value:function(t){var e=s(t.projection||"EPSG:3857","EPSG:4326",t.coordinate);return"".concat(e[1],"$").concat(e[0],"$").concat(t.name,"$0")}},{key:"insanifyRequest",value:function(t){var e=t.origin,n=t.destination,r=this.now();return{RequestDevicename:"DESKTOP",OriginInput:e.name,DestinationInput:n.name,Arrdep:"D",Hour:r.hour,Minute:r.minute,Ampm:r.ampm,InputDate:r.date,Minimize:"X",Walkdist:"0.50",Mode:"FRBC12",LineStart:"",LineEnd:"",Accessible:t.accessible?"Y":"N",OriginCoordinates:this.insanifyLocation(e),DestinationCoordinates:this.insanifyLocation(n),LocationType:"",StartServiceType:"train",StartTrainType:"subway",StartBorough:"",EndBorough:"",Walkincrease:"",Maxinitialwait:"",Maxtriptime:"",Maxtransfers:""}}}]),t}();c.Location,c.SaneRequest,c.InsaneRequest,e.a=c},57:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(2),l=n(17),f=n(30),p=n(20),h=u.a.proj4,y=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).url="".concat(t.url,"&input="),r.projection=t.projection||"EPSG:3857",r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"search",value:function(t){var e=this;return new Promise((function(n,r){5!==(t=t.trim()).length||isNaN(t)?t.length&&(t=encodeURIComponent(t.replace(/"/g,"").replace(/'/g,"").replace(/&/g," and ")),Object(p.a)("".concat(e.url).concat(t)).then((function(t){return t.json()})).then((function(t){e.geoclient(t,n)})).catch((function(t){e.error(t,r)}))):e.resolveZip(t,n)}))}},{key:"resolveZip",value:function(t,n){var r,o=this.project(e.ZIP_CODE_POINTS[t]);o?(n(r={coordinate:o,accuracy:l.a.Accuracy.ZIP_CODE,type:"geocoded",zip:!0,name:t}),this.trigger("geocoded",r)):(n(r={input:t,type:"ambiguous",possible:[]}),this.trigger("ambiguous",r))}},{key:"project",value:function(t){return t&&"EPSG:2263"!==this.projection?h("EPSG:2263",this.projection,t):t}},{key:"isMappable",value:function(t){return t&&t.coordinate&&!isNaN(t.coordinate[0])&&!isNaN(t.coordinate[1])}},{key:"geoclient",value:function(t,e){var n=t.results,r={type:"ambiguous",input:t.input,possible:[]};if("OK"===t.status){var o=this.parse(n[0]);if(1===n.length&&this.isMappable(o))o.type="geocoded",e(o),this.trigger("geocoded",o);else{var i=this.possible(n,e);if(1<i.length){var a={type:"ambiguous",input:t.input,possible:i};e(a),this.trigger("ambiguous",a)}else 1===i.length?(i[0].type="geocoded",e(i[0]),this.trigger("geocoded",i[0])):(e(r),this.trigger("ambiguous",r))}}else e(r),this.trigger("ambiguous",r)}},{key:"possible",value:function(t){var n=this,r=[];return t.forEach((function(t){var o=n.parse(t);if(o)r.push(o);else{for(var i={},a=t.response,s=!0,c=1;s;){var l=a["giLowHouseNumber"+c],f=a["giHighHouseNumber"+c];if(l){var p=u.a.capitalize("".concat(l," ").concat(a["giStreetName"+c],", ").concat(e.BOROS[a["giBoroughCode"+c]]))+", NY";i[p]={name:p}}if(f){var h=u.a.capitalize("".concat(f," ").concat(a["giStreetName"+c],", ").concat(e.BOROS[a["giBoroughCode"+c]]))+", NY";i[h]={name:h}}++c,s=l||f}r=Object.values(i)}})),r}},{key:"parse",value:function(t){var n,r,o,i=t.request.split(" ")[0],a=t.response;if("intersection"===i)n="".concat(a.streetName1," and ").concat(a.streetName2),r=[1*a.xCoordinate,1*a.yCoordinate],o=l.a.Accuracy.MEDIUM;else if("blockface"===i)n=a.firstStreetNameNormalized+" btwn "+a.secondStreetNameNormalized+" & "+a.thirdStreetNameNormalized,r=[(1*a.fromXCoordinate+1*a.toXCoordinate)/2,(1*a.fromYCoordinate+1*a.toYCoordinate)/2],o=l.a.Accuracy.LOW;else{var s=a.internalLabelXCoordinate,c=a.internalLabelYCoordinate;n=(a.houseNumber?a.houseNumber+" ":"")+(a.firstStreetNameNormalized||a.giStreetName1),r=[1*(s&&c?s:a.xCoordinate),1*(s&&c?c:a.yCoordinate)],o=s&&c?l.a.Accuracy.HIGH:l.a.Accuracy.MEDIUM}if(this.isMappable({coordinate:r}))try{return{type:"geocoded",coordinate:this.project(r),data:a,accuracy:o,name:u.a.capitalize("".concat(n.replace(/  +/g," "),", ").concat(e.BOROS[a.firstBoroughName]))+", NY ".concat(a.zipCode||a.leftSegmentZipCode||"")}}catch(e){console.warn("No coordinate",t)}else console.warn("No coordinate",t)}},{key:"error",value:function(t,e){console.error("Geoclient error",t),e({type:"error",error:t}),this.trigger("error",t)}}]),e}(f.a);y.Options,y.BOROS={1:"Manhattan",2:"Bronx",3:"Brooklyn",4:"Queens",5:"Staten Island",MANHATTAN:"Manhattan",BRONX:"Bronx",BROOKLYN:"Brooklyn",QUEENS:"Queens","STATEN IS":"Staten Island"},y.ZIP_CODE_POINTS={10474:[1018466,233787],10455:[1007889,236616],10037:[1001661,235627],10024:[991450,225457],10454:[1007449,232863],10026:[997179,231835],10025:[993331,230012],10035:[1006595,228454],11101:[1001319,211034],11364:[1051553,211923],10018:[984278,215509],10020:[990012,215729],11005:[1064789,214295],10017:[991869,213252],10001:[983613,213360],10011:[982781,210664],10016:[990291,210665],11104:[1006224,210564],11109:[996054,210740],10010:[988989,208515],11367:[1032392,205392],10014:[982449,206620],10003:[987465,205563],11222:[998773,204620],11379:[1017432,200740],11429:[1056859,198057],11435:[1036960,195018],11415:[1031798,197376],11418:[1031001,193330],11433:[1043368,193721],11451:[1039899,194697],11221:[1004438,191873],11421:[1023878,191241],11372:[1016528,213126],11004:[1065606,210363],11040:[1065956,213534],10002:[988242,200171],10314:[939259,155728],11228:[980891,164066],11209:[976172,165379],10304:[962458,165679],10456:[1007883,242372],10472:[1021444,241624],10031:[998088,239814],10039:[1001519,240436],10459:[1013835,240084],10451:[1005368,238290],10473:[1022475,237217],10030:[1000193,237302],10027:[999088,234131],10461:[1028296,247902],10457:[1012388,247405],10460:[1015132,243510],10032:[1000382,244917],10452:[1005446,244483],11414:[1027256,178677],11232:[983612,177801],10034:[1005713,255122],10033:[1001707,248780],10462:[1020685,249420],10040:[1003863,251914],10453:[1008152,249805],11102:[1004636,220364],10021:[997020,219120],11361:[1047797,217779],11358:[1040709,216377],11362:[1057749,215220],10044:[996385,214347],11369:[1019957,217722],11103:[1008295,217197],11106:[1001397,217519],11368:[1024870,212082],11377:[1010574,210678],10036:[985413,216821],11355:[1033762,213010],10302:[945946,169124],10465:[1031495,239091],11691:[1053783,158810],11096:[1054217,162199],11223:[991665,156781],11208:[1019700,184749],11207:[1013544,183721],11413:[1053380,183328],11217:[989547,187967],11238:[994291,186584],11231:[983057,186217],11422:[1057272,180607],11420:[1036899,184708],11417:[1027410,185709],11215:[989882,181773],11357:[1036533,225804],10029:[999950,227538],"00083":[991590,220538],11356:[1028115,225277],11359:[1046026,228012],10303:[933820,171004],11234:[1004323,163783],11360:[1044984,223892],11105:[1011836,221755],10128:[997765,224257],11371:[1022003,220457],10023:[988765,222068],11363:[1055047,220385],10028:[995910,222872],11354:[1032198,219054],11216:[998312,187241],11416:[1025796,188584],11233:[1006523,186300],11436:[1040697,185554],11213:[1000284,183308],11212:[1008387,180764],11225:[997345,180829],11218:[990799,173649],11226:[995711,174598],11219:[985166,169604],11210:[999101,167896],11230:[993494,166072],11419:[1033365,190202],11434:[1046577,185969],11204:[987887,164576],10471:[1012587,266570],10470:[1024748,268409],10466:[1024313,263999],10467:[1019786,258782],11430:[1043607,175068],11203:[1002509,175950],10469:[1026678,255623],10468:[1013897,258046],10458:[1015534,253712],11378:[1009641,202115],10009:[990043,203961],10012:[984832,203596],10013:[982892,201665],10007:[982504,199552],11237:[1004600,197083],11385:[1011367,195195],10038:[983418,197803],11206:[1000221,195003],10006:[980563,197293],11412:[1050773,193231],10005:[981339,197038],11251:[993428,194599],11411:[1057763,192413],11201:[986968,192156],10004:[972576,193652],11205:[995897,192159],10305:[963310,156060],11229:[999717,158278],11214:[984e3,159330],10306:[950937,145144],11694:[1025530,149310],11224:[984306,149092],10308:[942704,140020],10282:[979981,200244],11211:[999857,199848],11249:[993704,198278],11370:[1016758,227518],10065:[994666,217698],10075:[995301,221633],10069:[987047,221849],10281:[980036,198787],11373:[1017948,208465],10279:[981949,198823],10165:[990124,213288],10168:[990733,212960],10105:[990067,217259],10118:[988212,211939],10176:[990123,214490],10162:[997739,219667],10170:[990955,213470],10112:[989735,215947],10122:[986550,213178],10107:[989098,218425],10103:[990705,216275],10174:[991094,213106],10166:[990733,213798],10169:[990872,214089],10167:[991259,214199],10177:[990927,214381],10172:[991398,214417],10171:[991426,214709],10270:[982060,196710],10104:[990123,216312],10271:[981339,197293],10110:[989486,213943],10175:[989847,214016],10151:[991702,217332],10173:[990040,213907],10178:[990429,212814],10119:[986217,213068],10121:[986439,212486],10123:[986827,213032],10106:[989624,218024],10158:[991177,212122],10041:[981727,195435],10120:[987242,212449],10278:[983113,199880],10155:[993143,216531],10043:[982337,195836],10081:[981838,197074],10096:[989071,214235],10097:[988461,216931],10196:[989458,214963],10275:[980368,196382],10265:[982060,196164],10045:[981866,197329],10047:[988047,208660],10080:[980785,198167],10203:[981062,196965],10259:[981478,197439],10260:[981921,196564],10285:[980147,199224],10286:[981727,196637],10463:[1007644,260043],10475:[1030489,258509],10464:[1036131,258338],10309:[923594,132955],10307:[916899,124411],10280:[979509,197257],10048:[980812,198532],10055:[991564,215802],10019:[989652,217477],10111:[990483,215838],10153:[991896,217478],10154:[991896,215328],10152:[991979,215584],10115:[994299,234675],10022:[993087,215620],11235:[1000973,149936],11693:[1036606,153266],11692:[1041045,155461],11697:[1009230,143240],10312:[935583,136827],11239:[1021573,175899],11236:[1011642,172461],11220:[979421,172519],10301:[961077,172967],10310:[950582,169591],11426:[1060737,207724],11365:[1041364,208618],11001:[1065508,206646],11375:[1026883,201848],11427:[1053373,205042],11374:[1022389,203771],11366:[1039491,203659],11423:[1048812,200621],11428:[1055655,202207],11432:[1041634,200093]},e.a=y},6:function(t,e,n){"use strict";function r(){return function(){throw new Error("Unimplemented abstract method.")}()}function o(t){return t.ol_uid||(t.ol_uid=++i+"")}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=0,a="6.9.0"},61:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=n(24),p=["alt","placeholder"],h=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t)).hack(),setInterval(r.hack,500),l.a.getScript("https://translate.google.com/translate_a/element.js?cb=nycTranslateInstance.init"),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"init",value:function(){nycTranslateInstance.goog=new google.translate.TranslateElement({pageLanguage:"en",includedLanguages:nycTranslateInstance.codes,layout:google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:!1},"lng-goog"),l()("#lng select").val(nycTranslateInstance.defaultLanguage),nycTranslateInstance.selectDefault(),nycTranslateInstance.translate(),nycTranslateInstance.trigger("ready",nycTranslateInstance)}},{key:"translate",value:function(){var t=l()("iframe.goog-te-menu-frame:first").contents().find(".goog-te-menu2-item span.text");if(clearTimeout(nycTranslateInstance.timeout),t.length){var e=l()("#lng select").val(),n=this.languages[e].name;this.code=this.languages[e].code,"English"===n?this.showOriginalText():l()(t).each((function(t,e){if(l()(e).text()===n)return l()(e).trigger("click"),!1})),this.css("goog"),this.trigger("change",this)}else nycTranslateInstance.timeout=setTimeout((function(){nycTranslateInstance.translate()}),200)}},{key:"langFromCookie",value:function(){var t=this.getCookie();if(t)try{t=(t=t.split("/"))[2].split("-")[0]}catch(t){}return this.namedCodes[t]||this.defaultLanguage||"en"}},{key:"getCookie",value:function(){for(var t,e=document.cookie.split(";"),n=0;n<e.length;n++){for(t=e[n];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf("googtrans="))return t.substring(10,t.length)}}},{key:"hack",value:function(){l()("body").hasClass("translated")&&(p.forEach((function(t){l()("*[".concat(t,"]")).each((function(e,n){if(l()(n).data(t)){var r=l()(n).data(t);l()(n).attr(t,r.text())}else{var o=l()('<span class="lng '.concat(t,'" aria-hidden="true">').concat(l()(n).attr(t),"</span>"));l()("body").append(o),l()(n).data(t,o)}}))})),l()("body").css("top","auto"),l()("#goog-gt-tt").remove())}},{key:"showOriginalText",value:function(){var t=l()("iframe.goog-te-banner-frame:first"),e=l()("#lng select"),n=this.languages,r=this.defaultLanguage;l()(t.contents().find(".goog-te-button button")).each((function(t,o){if("Show original"===l()(o).text()){var i=e.val();return l()(o).trigger("click"),"English"!==n[i].name&&e.val(r),!1}}))}}]),e}(f.a);e.a=h},62:function(t){t.exports=ol.extent},63:function(t){t.exports=ol.style.Icon},64:function(t){t.exports=ol.Feature},65:function(t){t.exports=ol.geom.Point},66:function(t,e,n){"use strict";function r(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function o(t){var e,n,r,o,a;if(Z.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),J.exec(t)){var s,c=t.length-1;s=4>=c?1:2;var u=4==c||8==c;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),o=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(o=(o<<4)+o)),a=[e,n,r,o/255]}else 0==t.indexOf("rgba(")?i(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),i(a)):Object(V.a)(!1,14);return a}function i(t){return t[0]=Object(q.a)(0|t[0]+.5,0,255),t[1]=Object(q.a)(0|t[1]+.5,0,255),t[2]=Object(q.a)(0|t[2]+.5,0,255),t[3]=Object(q.a)(t[3],0,1),t}function a(t){return Array.isArray(t)?function(t){var e=t[0];e!=(0|e)&&(e=0|e+.5);var n=t[1];n!=(0|n)&&(n=0|n+.5);var r=t[2];return r!=(0|r)&&(r=0|r+.5),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}(t):t}function s(t,e,n,r){var o;return n&&n.length?o=n.shift():$?o=new OffscreenCanvas(t||300,e||300):(o=document.createElement("canvas")).style.all="unset",t&&(o.width=t),e&&(o.height=e),o.getContext("2d",r)}function c(){}function u(t,e,n,r,o){if(r&&r!==t&&(n=n.bind(r)),o){var i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function l(t,e,n,r){return u(t,e,n,r,!0)}function f(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(et.b)(t))}function p(t,e){return dt||(dt=s(1,1)),t!=yt&&(dt.font=t,yt=dt.font),dt.measureText(e)}function h(t,e){return p(t,e).width}function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var m=Math.sqrt,g=Math.sin,b=Math.PI,v=Math.max,w=n(0),O=n.n(w),_=n(2),k=n(134),j=n(96),S=n(55),E=n(81),T=n(105),P=n(137),x=n(94),C=n(50),R=n.n(C),L=n(88),A=n.n(L),D=n(128),F=n(48),I=n(125),B=n.n(I),M=n(26),N=n.n(M),z=n(63),G=n.n(z),U=2,H=n(6),W=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=r(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Object(H.b)()},t.prototype.getImage=function(){return Object(H.b)()},t.prototype.getHitDetectionImage=function(){return Object(H.b)()},t.prototype.getPixelRatio=function(){return 1},t.prototype.getImageState=function(){return Object(H.b)()},t.prototype.getImageSize=function(){return Object(H.b)()},t.prototype.getOrigin=function(){return Object(H.b)()},t.prototype.getSize=function(){return Object(H.b)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=r(t)},t.prototype.listenImageChange=function(){Object(H.b)()},t.prototype.load=function(){Object(H.b)()},t.prototype.unlistenImageChange=function(){Object(H.b)()},t}(),V=n(138),q=n(12),J=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Z=/^([a-z]*)$|^hsla?\(.*\)$/i,Y=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(1024<=e){var i=0;for(var a in t)0==(3&i++)&&(delete t[a],--e)}r=o(n),t[n]=r,++e}return r}}(),K="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",$=(K.indexOf("firefox"),-1!==K.indexOf("safari")&&K.indexOf("chrom"),-1!==K.indexOf("webkit")&&K.indexOf("edge"),K.indexOf("macintosh"),"undefined"==typeof devicePixelRatio||devicePixelRatio,"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope),X=("undefined"!=typeof Image&&Image.prototype.decode,function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}}(),function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}()),Q="propertychange",tt=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}(),et=n(25),nt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return nt(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new X(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,o=this.listeners_&&this.listeners_[n];if(o){var i=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in i||(i[n]=0,a[n]=0),++i[n];for(var s=0,u=o.length;s<u;++s)if(!1===(r="handleEvent"in o[s]?o[s].handleEvent(e):o[s].call(this,e))||e.propagationStopped){r=!1;break}if(--i[n],0===i[n]){var l=a[n];for(delete a[n];l--;)this.removeEventListener(n,c);delete i[n]}return r}},e.prototype.disposeInternal=function(){this.listeners_&&Object(et.b)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:0<Object.keys(this.listeners_).length)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=c,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(tt),ot="change",it=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return it(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(ot)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=Array(n),o=0;o<n;++o)r[o]=u(this,t[o],e);return r}return u(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=Array(r);for(var o=0;o<r;++o)n[o]=l(this,t[o],e)}else n=l(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)f(t[e]);else f(t)}(n);else if(Array.isArray(t))for(var r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(rt);at.prototype.on,at.prototype.once,at.prototype.un;var st=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ct=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.key=n,o.oldValue=r,o}return st(e,t),e}(X),ut=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,Object(H.c)(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return st(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Object(et.a)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:"+t,this.dispatchEvent(new ct(n,t,e)),n=Q,this.dispatchEvent(new ct(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var o=r[t];r[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Object(et.a)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Object(et.c)(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(at),lt=new RegExp("^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$","i"),ft=["style","variant","weight","size","lineHeight","family"],pt=function(t){var e=t.match(lt);if(!e)return null;for(var n,r={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},o=0,i=ft.length;o<i;++o)void 0!==(n=e[o+1])&&(r[ft[o]]=n);return r.families=r.family.split(/,\s?/),r},ht=new ut;(new rt).setSize=function(){console.warn("labelCache is deprecated.")};var yt,dt=null,mt={},gt=(function(){function t(t,e,n){for(var o,u=!0,l=0;l<s;++l)if(o=a[l],r=h(t+" "+e+" "+i+o,c),n!=o){var f=h(t+" "+e+" "+i+n+","+o,c);u=u&&f!=r}return!!u}function e(){for(var e,r=!0,i=ht.getKeys(),a=0,s=i.length;a<s;++a)e=i[a],ht.get(e)<o&&(t.apply(this,e.split("\n"))?(Object(et.b)(mt),dt=null,yt=void 0,ht.set(e,o)):(ht.set(e,ht.get(e)+1,!0),r=!1));r&&(clearInterval(n),n=void 0)}var n,r,o=100,i="32px ",a=["monospace","serif"],s=a.length,c="wmytzilWMYTZIL@#/&?$%10"}(),function(){var t}(),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),bt=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0===e.rotation?0:e.rotation,scale:void 0===e.scale?1:e.scale,displacement:void 0===e.displacement?[0,0]:e.displacement})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0===e.fill?null:e.fill,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0===e.radius?e.radius1:e.radius,n.radius2_=e.radius2,n.angle_=void 0===e.angle?0:e.angle,n.stroke_=void 0===e.stroke?null:e.stroke,n.anchor_=null,n.size_=null,n.renderOptions_=null,n.render(),n}return gt(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=s(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return U},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){var i=r;r=o,o=i}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*b/a,c=o*g(s),u=r-m(o*o-c*c),l=m(c*c+u*u),f=l/c;if("miter"===t&&f<=n)return f*e;var p=e/2/f,h=e/2*(u/l),y=m((r+p)*(r+p)+h*h)-r;if(void 0===this.radius2_||"bevel"===t)return 2*y;var d=r*g(s),w=o-m(r*r-d*d),O=m(d*d+w*w)/d;return O<=n?2*v(y,O*e/2-o-r):2*y},e.prototype.createRenderOptions=function(){var t,e="round",n=0,r=null,o=0,i=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=a(t),void 0===(i=this.stroke_.getWidth())&&(i=1),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e="round"),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var s=this.calculateLineJoinSize_(e,i,n),c=v(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:i,size:Math.ceil(2*c+s),lineDash:r,lineDashOffset:o,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size,e=this.getDisplacement();this.canvas_={},this.anchor_=[t/2-e[0],t/2+e[1]],this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r="#000"),e.fillStyle=a(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=function(t){return Array.isArray(t)?t:Y(t)}(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=s(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*b);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var o=this.angle_-b/2,i=2*b/e,a=0;a<e;a++){var s=o+a*i,c=0==a%2?n:r;t.lineTo(c*Math.cos(s),c*g(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(W),vt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0===n.scale?1:n.scale,rotation:void 0===n.rotation?0:n.rotation,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0===n.displacement?[0,0]:n.displacement})||this}return vt(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(bt),Ot=function(){function t(t){var e=t||{};this.color_=void 0===e.color?null:e.color}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),_t=function(){function t(t){var e=t||{};this.color_=void 0===e.color?null:e.color,this.lineCap_=e.lineCap,this.lineDash_=void 0===e.lineDash?null:e.lineDash,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),kt=n(14),jt=_.a.proj4,St=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.facilitySearch=e.facilitySearch,this.pager=this.createPager(e),this.map=new T.a({target:O()(e.mapTarget).get(0),altBasemap:e.altBasemap}),this.view=this.map.getView(),this.locationMgr=this.createLocationMgr(e),this.location={},this.checkMouseWheel(e.mouseWheelZoom),e.startAt&&this.locationMgr.goTo(e.startAt),this.layer=null,this.source=this.createSource(e),this.highlightSource=null,this.source?(this.layer=this.createLayer(this.source,this.createStyle(e)),this.map.addLayer(this.layer),this.source.autoLoad().then(O.a.proxy(this.ready,this)).catch(O.a.proxy(this.loadFailed,this)),this.createHighlightLayer(e)):this.ready(),this.popup=null,this.layer&&(this.popup=new P.a({map:this.map,layers:[this.layer]}),new x.a({map:this.map,tips:[{layer:this.layer,label:t.tipFunction}]}))}return function(t,e,n){e&&d(t.prototype,e),n&&d(t,n)}(t,[{key:"createParentFormat",value:function(){throw"must be implemented"}},{key:"createDecorations",value:function(){throw"must be implemented"}},{key:"createLayer",value:function(t,e){return new A.a({source:t,style:e})}},{key:"located",value:function(t){this.location=t,this.pager&&(this.resetList(),this.pager.find("h2.info").append(" sorted by closest to ").append(t.name),this.focusInfo())}},{key:"focusInfo",value:function(){this.pager.find("h2.info").attr("aria-live","alert").attr("tabindex",0).trigger("focus")}},{key:"resetList",value:function(){var t=this.location.coordinate;this.popup.hide(),this.pager&&(t?this.pager.reset(this.source.sort(t)):this.pager.reset(this.source.getFeatures()))}},{key:"ready",value:function(t){if(this.view.fit(T.a.EXTENT,{size:this.map.getSize(),duration:500}),this.source&&this.facilitySearch){var e="object"===y(this.facilitySearch)?this.facilitySearch:{};e.features=t,this.locationMgr.search.setFeatures(e)}this.pager&&this.pager.reset(t),_.a.ready(O()("body"))}},{key:"zoomTo",value:function(t){var e=this.popup;e.hide(),this.map.once("moveend",(function(){e.showFeature(t)})),this.view.animate({center:t.getGeometry().getCoordinates(),zoom:F.a.ZOOM_LEVEL})}},{key:"directionsTo",value:function(t){var e=encodeURIComponent(t.getFullAddress()),n=this.getFromAddr();n=n?encodeURIComponent(n):e,window.open("https://www.google.com/maps/dir/".concat(n,"/").concat(e))}},{key:"getFromAddr",value:function(){var t=this.location;if("geolocated"===t.type||t.isFeature){var e=jt(this.view.getProjection().getCode(),"EPSG:4326",t.coordinate);return"".concat(e[1],",").concat(e[0])}return t.name||""}},{key:"expandDetail",value:function(){this.popup.pan()}},{key:"loadMarkerImage",value:function(t,e,n){var r=this,o=O()("<img>").one("load",(function(){var i=[O()(o).width(),O()(o).height()];n.setImage(new G.a({src:t,scale:e/i[1],imgSize:i})),O()(o).remove(),r.layer.setStyle(r.layer.getStyle())}));O()("body").append(o.attr("src",t))}},{key:"isOlStyle",value:function(t){return t&&(t instanceof N.a||t instanceof Array&&t[0]instanceof N.a||"function"==typeof t)}},{key:"isBuckets",value:function(t){return t&&!this.isOlStyle(t)&&t.styles instanceof Object}},{key:"createStyle",value:function(t){var e=this,n=t.facilityStyle;if(e.isOlStyle(n))return n;if(e.isBuckets(n))return function(t){var r=t.get(n.typeCol||"TYPE");return e.createFacilityStyle(n.styles[r])};if(t.facilityMarkerUrl){var r=new N.a;return this.loadMarkerImage(t.facilityMarkerUrl,32,r),r}return e.createFacilityStyle(n)}},{key:"createFacilityStyle",value:function(t){if("string"==typeof t){var e=new N.a;return this.loadMarkerImage(t,32,e),e}var n=(t||[0,0,255]).join(",");return new N.a({image:new wt({radius:6,fill:new Ot({color:"rgba(".concat(n,",.5)")}),stroke:new _t({color:"rgb(".concat(n,")"),width:2})})})}},{key:"createHighlightLayer",value:function(t){this.highlightSource=new R.a,this.highlightLayer=new A.a({source:this.highlightSource,style:this.createHighlightStyle(t)}),this.map.addLayer(this.highlightLayer)}},{key:"createHighlightStyle",value:function(t){return t.highlightStyle?t.highlightStyle:new N.a({image:new wt({radius:20,stroke:new _t({color:"yellow",width:10})})})}},{key:"createSource",value:function(t){if(t.facilityUrl){var e=this.createParentFormat(t),n=this.createDecorations(t);return new j.a({url:t.facilityUrl,format:new k.a({decorations:n,parentFormat:e})},t.metric)}}},{key:"createPager",value:function(t){if(t.listTarget)return new E.a({target:t.listTarget,itemType:t.facilityType})}},{key:"createLocationMgr",value:function(t){var e=t.facilitySearch,n=new D.a({map:this.map,searchTarget:t.searchTarget||void 0,dialogTarget:t.dialogTarget||t.mapTarget,url:t.geoclientUrl,placeholder:e?e.placeholder:void 0});if(!1===t.searchTarget&&n.search.getContainer().hide(),t.locationMarkerUrl){var r=n.mapLocator.layer,o=new N.a;r.setStyle(o),this.loadMarkerImage(t.locationMarkerUrl,64,r.getStyle())}return n.on("geocoded",this.located,this),n.on("geolocated",this.located,this),n}},{key:"loadFailed",value:function(t){console.error(t),this.ready(),new kt.a({}).ok({message:"Failed to load map data"})}},{key:"checkMouseWheel",value:function(t){var e;!0!==t&&(this.map.getInteractions().forEach((function(t){t instanceof B.a&&(e=t)})),this.map.removeInteraction(e))}},{key:"highlight",value:function(t){this.highlightSource.clear(),t&&this.highlightSource.addFeatures([t])}}]),t}();St.tipFunction=function(t){return{html:t.getTip()}},St.FEATURE_DECORATIONS={html:function(){return O()('<div class="facility"></div>').addClass(this.cssClass()).addClass(this.moreCss()).append(this.distanceHtml()).append(this.nameHtml()).append(this.distanceHtml(!0)).append(this.addressHtml()).append(this.phoneButton()).append(this.emailButton()).append(this.websiteButton()).append(this.mapButton()).append(this.directionsButton()).append(this.detailsCollapsible()).data("feature",this).mouseover(O.a.proxy(this.handleOver,this)).mouseout(O.a.proxy(this.handleOut,this))},moreCss:function(){var t=this.getPhone(),e=this.getWebsite();return t&&!e?"no-website":!t&&e?"no-phone":void 0},getTip:function(){return O()("<span></span>").html(this.getName()).addClass("notranslate")},getName:function(){throw"A getName decoration must be provided"},cssClass:function(){},getAddress1:function(){throw"A getAddress1 decoration must be provided to use default html method and directions"},getAddress2:function(){return""},getCityStateZip:function(){throw"A getCityStateZip decoration must be provided to use default html method and directions"},getFullAddress:function(){return"".concat(this.getAddress1(),"\n").concat(this.getAddress2(),",\n").concat(this.getCityStateZip())},getPhone:function(){},getEmail:function(){},getWebsite:function(){},detailsHtml:function(){},nameHtml:function(){return O()('<h3 class="name notranslate" tabindex="0"></h3>').html(this.getName())},addressHtml:function(){var t=O()('<div class="addr notranslate"></div>').append('<div class="ln1">'.concat(this.getAddress1(),"</div>"));return this.getAddress2()&&t.append('<div class="ln2">'.concat(this.getAddress2(),"</div>")),t.append('<div class="ln3">'.concat(this.getCityStateZip(),"</div>"))},mapButton:function(){return O()('<button class="btn btn-ico rad-all map"></button>').append('<span class="msg-map" aria-hidden="true">Map</span>').append('<span class="screen-reader-only msg-sr-map">Locate this facility on the map</span>').data("feature",this).click(this.handleButton)},directionsButton:function(){return O()('<button class="btn btn-ico rad-all dir msg-dir">Directions</button>').data("feature",this).click(this.handleButton)},phoneButton:function(){var t=this.getPhone();if(t)return O()('<a class="btn btn-ico rad-all phone notranslate" role="button">'.concat(t,"</a>")).attr("href","tel:".concat(t))},emailButton:function(){var t=this.getEmail();if(t)return O()('<a class="btn btn-ico rad-all email msg-email" role="button">Email</a>').attr("href","mailto:".concat(t))},websiteButton:function(){var t=this.getWebsite();if(t)return O()('<a class="btn btn-ico rad-all web msg-web" target="blank" role="button">Website</a>').attr("href",t)},distanceHtml:function(t){if(this.getDistance){var e=O()('<div class="dist"></div>'),n=this.getDistance();return t?(e.addClass("screen-reader-only"),"ft"===n.units?e.html("".concat((n.distance/5280).toFixed(2)," miles")):e.html("".concat((n.distance/1e3).toFixed(2)," kilometers"))):(e.attr("aria-hidden",!0),"ft"===n.units?e.html("&bull; ".concat((n.distance/5280).toFixed(2)," mi &bull;")):e.html("&bull; ".concat((n.distance/1e3).toFixed(2)," km &bull;")))}},detailsCollapsible:function(){var t=this.detailsHtml();if(t){var e=new S.a({target:O()('<div class="dtl"></div>'),title:this.detailButtonText||'<span class="msg-dtl">Details</span>',content:t,collapsed:!0});return e.on("change",this.app.expandDetail,this.app),e.getContainer()}},handleButton:function(t){var e=O()(t.currentTarget),n=e.data("feature");e.hasClass("map")?n.app.zoomTo(n):n.app.directionsTo(n,e)},handleOver:function(t){var e=O()(t.currentTarget);e.data("feature").app.highlight(e.data("feature"))},handleOut:function(t){O()(t.currentTarget).data("feature").app.highlight()}},St.Options,St.Style,St.StyleByType,e.a=St},78:function(t,e,n){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=n(3),h=n(14),y=n(43),d=n(56),m=n(2),g=n(24),b=m.a.proj4,v=function(e){function n(e){var o;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),o=r.call(this,"body"),e=e||{},t.directions=c(o),o.append(n.HTML),o.tabs=new y.a({target:"#dir-tabs",tabs:[{tab:"#map-tab",title:'<span class="msg-dir-map">Route Map</span>'},{tab:"#route-tab",title:'<span class="msg-dir">Directions</span>'}]}),o.tabs.find(".btn-0").parent().attr("aria-hidden",!0),o.tabs.on("change",o.tabChange,c(o)),o.map=null,o.service=null,o.renderer=null,o.marker=null,o.infoWin=null,o.args=null,o.modeBtn=f()("#transit").get(0),o.url="".concat(e.url||n.GOOGLE_URL,"&callback=directions.init"),o.routeTarget=o.find("#route-tab div.route"),o.lastDir="",o.toggle=f()(e.toggle),o.styles=e.styles||n.DEFAULT_STYLES,o.monitoring=!1,o.defaultMode=e.mode||"TRANSIT",f()("#mta").on("click",m.a.bind(o.tripPlanHack,c(o))),f()("#mode button").not("#mta").on("click",o.mode.bind(c(o)));var i=f()("#fld-from input").on("keypress",m.a.bind(o.key,c(o))).on("focus",(function(){i.trigger("select")})),a=o.toggle;return f()("#back-to-map").on("click",(function(){f()("#directions").slideUp((function(){f()(".fnd #lng").show()})),a.show().attr("aria-hidden",!1)})),o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,e);var r=a(n);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(n,[{key:"directions",value:function(t){var e=t.mode||this.defaultMode,n=this.url,r=this.toggle;return this.modeBtn=f()('[data-mode="'.concat(e,'"]')),this.modeAria(),this.args=t,this.monitor(),this.tabs.open("#route-tab"),this.map?(t.from=t.from||f()("#fld-from input").val(),f()("#fld-from input").val(t.from),f()("#fld-to").html(t.to.replace(/\n/g," ").replace(/ ,/g,",")),f()("#fld-facility").html(t.facility),f()("#directions").slideDown((function(){r.hide(),f()(".fnd #lng").hide()})),r.attr("aria-hidden",!0),this.createMarker(this.getLatLng()),t.from&&this.lastDir!=="".concat(t.from,"|").concat(t.to,"|").concat(e)&&(this.lastDir="".concat(t.from,"|").concat(t.to,"|").concat(e),this.service.route({origin:t.from,destination:t.to,travelMode:google.maps.TravelMode[e]},m.a.bind(this.handleResp,this))),void f()("#back-to-map").one("click",(function(){f()(t.returnFocus).trigger("focus")}))):f.a.getScript(n)}},{key:"monitor",value:function(){if(!this.monitoring){var t=m.a.bind(this.routeAlt,this);this.monitoring=!0,"MutationObserver"in window?new MutationObserver(t).observe(this.getContainer().get(0),{childList:!0}):setInterval(t,500)}}},{key:"handleResp",value:function(e,n){var r=f()(this.routeTarget);if(t.nycTranslateInstance instanceof g.a&&r.attr("style",""),n===google.maps.DirectionsStatus.OK){this.marker.setMap(null);var o=e.routes[0].legs[0],i=o.start_address.replace(/\, USA/,""),a=o.end_address.replace(/\, USA/,"");if(!this.args.origin.coordinate){var s=o.start_location;this.args.origin={name:i,coordinate:[s.lng(),s.lat()],projection:"EPSG:4326"}}this.renderer.setOptions({map:this.map,panel:r.get(0),directions:e}),f()("#fld-from input").val(i),f()("#fld-to").html(a)}else r.empty(),(new h.a).ok({message:'<span class="msg-no-dir">Could not determine directions from your location</span>'});setTimeout((function(){var t=r.find("h2.screen-reader-only.dir");0===t.length&&(t='<h2 class="screen-reader-only dir msg-dir">Directions</h2>'),r.prepend(t).children().first().focus()}),200),this.trigger("change",{response:e,status:n})}},{key:"routeAlt",value:function(){var t=!0,e=!1;f()("#map-tab, #directions div.map *").attr({"aria-hidden":!0,tabindex:-1}),this.find(".route img").each((function(n,r){var o=r.src,i=o.match(/([^\/]+)(?=\.\w+$)/);i=(i=i?i[0]:"").replace(/X/," Express"),-1<o.indexOf("us-ny-mta")?(e=!0,r.alt="Take the ".concat(i," train ")):-1<i.indexOf("rail")?(e=!0,r.alt="Take the train "):-1<i.indexOf("bus")?(e=!0,r.alt="Take the bus "):"walk"===i?r.alt="Walk ":f()(r).hasClass("adp-marker2")&&(r.alt=t?"Start location ":"End location ",t=!1)})),e||"transit"!==f()(this.modeBtn).attr("id")?this.find(".no-transit").remove():f()('<div class="no-transit" aria-live="polite">Only walking directions are available.</div>').insertBefore(this.find("div.route"))}},{key:"tabChange",value:function(){this.renderer&&this.renderer.setOptions({map:this.map})}},{key:"init",value:function(){var t=this.getLatLng();this.map=new google.maps.Map(f()("#map-tab div.map").get(0),{mapTypeId:google.maps.MapTypeId.ROADMAP,backgroundColor:"#D3D3D3",panControl:!1,streetViewControl:!1,mapTypeControl:!1,zoomControl:!1,maxZoom:18,zoom:17,center:t,styles:this.styles}),this.service=new google.maps.DirectionsService,this.renderer=new google.maps.DirectionsRenderer,this.find(".btn-z-in, .btn-z-out").on("click",f.a.proxy(this.zoom,this)),this.directions(this.args)}},{key:"createMarker",value:function(t){var e=this.args.to.replace(/\n/g," ");this.marker&&this.marker.setMap(null),this.infoWin=this.infoWin||new google.maps.InfoWindow,this.infoWin.setContent('<div class="gm-iw">'.concat(e,"</div>")),this.marker=new google.maps.Marker({position:t,map:this.map,label:{text:"B",color:"white",fontSize:"16px"},title:e}),this.marker.addListener("click",f.a.proxy(this.openInfoWin,this)),this.map.setCenter(t)}},{key:"openInfoWin",value:function(){this.infoWin.open(this.map,this.marker)}},{key:"getLatLng",value:function(){try{var t=b("EPSG:3857","EPSG:4326",this.args.destination.coordinate);return{lat:t[1],lng:t[0]}}catch(t){}}},{key:"zoom",value:function(t){var e=this.map.getZoom();this.map.setZoom(e+1*f()(t.target).data("zoom-incr"))}},{key:"mode",value:function(t){this.args=this.args||{},this.modeBtn=t.target,this.args.mode=f()(this.modeBtn).data("mode"),this.modeAria(),this.directions(this.args)}},{key:"modeAria",value:function(){f()("#mode button").removeClass("active").attr({"aria-selected":!1,"aria-pressed":!1}),f()(this.modeBtn).addClass("active").attr({"aria-selected":!0,"aria-pressed":!0})}},{key:"key",value:function(t){13===t.keyCode&&(this.args.from=f()("#fld-from input").val(),this.directions(this.args))}},{key:"tripPlanHack",value:function(){this.args.accessible=!0,(new d.a).directions(this.args)}}]),n}(p.a);v.DEFAULT_GOOGLE_URL="https://maps.googleapis.com/maps/api/js?&sensor=false&libraries=visualization",v.Request,v.Response,v.Options,v.HTML='\n<div id="directions">\n  <button id="back-to-map" class="btn rad-all msg-back-to-finder">Back to finder</button>\n  <div id="dir-tabs">\n    <div id="route-tab">\n      <div class="fld-lbl msg-dir-from">From my location:</div>\n      <div id="fld-from"><input class="rad-all" data-msg-key="msg-dir-input" data-msg-attr="placeholder" placeholder="Enter an address..."></div>\n      <div>\n        <div class="to-lbl msg-dir-to">To:</div>\n        <div id="fld-facility" class="to-facility notranslate" translate="no"></div>\n      </div>\n      <div id="fld-to" class="notranslate" translate="no"></div>\n      <table id="mode">\n        <tbody><tr>\n          <td>\n            <button id="transit" class="btn-sq rad-all active" data-msg-key="msg-transit" data-msg-attr="title" data-mode="TRANSIT" aria-pressed="true" aria-selected="true" title="Get transit directions">\n              <span class="screen-reader-only msg-transit">get transit directions</span>\n            </button>\n          </td>\n          <td>\n            <button id="bike" class="btn-sq rad-all" data-msg-key="msg-bike" data-msg-attr="title" data-mode="BICYCLING" aria-pressed="false" aria-selected="false" title="Get bicycling directions">\n              <span class="screen-reader-only msg-bike">get bicycling directions</span>\n            </button>\n          </td>\n          <td>\n            <button id="walk" class="btn-sq rad-all" data-msg-key="msg-walk" data-msg-attr="title" data-mode="WALKING" aria-pressed="false" aria-selected="false" title="Get walking directions">\n              <span class="screen-reader-only msg-walk">get walking directions</span>\n            </button>\n          </td>\n          <td>\n            <button id="car" class="btn-sq rad-all" data-msg-key="msg-car" data-msg-attr="title" data-mode="DRIVING" aria-pressed="false" aria-selected="false" title="Get driving directions">\n              <span class="screen-reader-only msg-car">get driving directions</span>\n            </button>\n          </td>\n          <td>\n            <span class="screen-reader-only msg-mta">Get accessible transit directions from the MTA</span>\n            <button id="mta" class="btn-sq rad-all" data-msg-key="msg-mta" data-msg-attr="title" title="Get accessible transit directions from the MTA">\n              <span class="notranslate">TripPlanner</span><svg xmlns="http://www.w3.org/2000/svg" width="656" height="656" viewBox="0 0 656 656"><g transform="translate(-263.86732,-69.7075)"><path d="M 833.556,367.574 C 825.803,359.619 814.97,355.419 803.9,356.025 l -133.981,7.458 73.733,-83.975 c 10.504,-11.962 13.505,-27.908 9.444,-42.157 -2.143,-9.764 -8.056,-18.648 -17.14,-24.324 -0.279,-0.199 -176.247,-102.423 -176.247,-102.423 -14.369,-8.347 -32.475,-6.508 -44.875,4.552 l -85.958,76.676 c -15.837,14.126 -17.224,38.416 -3.097,54.254 14.128,15.836 38.419,17.227 54.255,3.096 l 65.168,-58.131 53.874,31.285 -95.096,108.305 c -39.433,6.431 -74.913,24.602 -102.765,50.801 l 49.66,49.66 c 22.449,-20.412 52.256,-32.871 84.918,-32.871 69.667,0 126.346,56.68 126.346,126.348 0,32.662 -12.459,62.467 -32.869,84.916 l 49.657,49.66 c 33.08,-35.166 53.382,-82.484 53.382,-134.576 0,-31.035 -7.205,-60.384 -20.016,-86.482 l 51.861,-2.889 -12.616,154.75 c -1.725,21.152 14.027,39.695 35.18,41.422 1.059,0.086 2.116,0.127 3.163,0.127 19.806,0 36.621,-15.219 38.257,-35.306 l 16.193,-198.685 c 0.904,-11.071 -3.026,-21.989 -10.775,-29.942 z"/><path  d="m 762.384,202.965 c 35.523,0 64.317,-28.797 64.317,-64.322 0,-35.523 -28.794,-64.323 -64.317,-64.323 -35.527,0 -64.323,28.8 -64.323,64.323 0,35.525 28.795,64.322 64.323,64.322 z"/><path d="m 535.794,650.926 c -69.668,0 -126.348,-56.68 -126.348,-126.348 0,-26.256 8.056,-50.66 21.817,-70.887 l -50.196,-50.195 c -26.155,33.377 -41.791,75.393 -41.791,121.082 0,108.535 87.983,196.517 196.518,196.517 45.691,0 87.703,-15.636 121.079,-41.792 L 606.678,629.11 c -20.226,13.757 -44.63,21.816 -70.884,21.816 z"/></g></svg>\n            </button>\n          </td>\n        </tr></tbody>\n      </table>\n      <div class="route"></div>\n    </div>\n    <div id="map-tab" aria-hidden="true" tabindex="-1">\n      <div class="map"></div>\n      <button class="btn-z-in btn-sq rad-all" tabindex="-1" data-zoom-incr="1" title="Zoom in" data-msg-key="msg-z-in" data-msg-attr="title"></button>\n      <button class="btn-z-out btn-sq rad-all" tabindex="-1" data-zoom-incr="-1" title="Zoom out"data-msg-key="msg-z-out" data-msg-attr="title"></button>\n    </div>\n  </div>\n</div>',v.DEFAULT_STYLES=[{elementType:"geometry.fill",stylers:[{color:"#ececec"}]},{elementType:"geometry.stroke",stylers:[{color:"#dcdcdc"}]},{elementType:"labels.text.fill",stylers:[{color:"#585858"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#e8e8e8"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#d8d8d8"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]},{featureType:"transit.line",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"on"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]}],e.a=v}).call(this,n(51))},79:function(t,e,n){"use strict";function r(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var o=n(0),i=n.n(o),a=n(2),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"canDownload",value:function(){return"download"in i()("<a></a>").get(0)}},{key:"saveGeoJson",value:function(t,e){var n="data:application/jsoncharset=utf-8,".concat(encodeURIComponent(e)),r=i()('<a class="file-dwn"><img></a>');i()("body").append(r),r.attr({href:n,download:t}).find("img").trigger("click"),r.remove()}},{key:"setItem",value:function(t,e){"localStorage"in window&&localStorage.setItem(t,e)}},{key:"getItem",value:function(t){if("localStorage"in window)return localStorage.getItem(t)}},{key:"removeItem",value:function(t){"localStorage"in window&&localStorage.removeItem(t)}},{key:"readTextFile",value:function(t,e){var n=new FileReader;if(n.onload=function(){t(n.result)},e)n.readAsText(e);else{var r=i()('<input class="file-in" type="file">');i()("body").append(r),r.change((function(t){r.remove(),n.readAsText(t.target.files[0])})),r.trigger("click")}}},{key:"loadGeoJsonFile",value:function(t,e,n){var r=this;this.readTextFile((function(n){var o=r.addToMap(t,n);e&&e(o)}),n)}},{key:"loadShapeFile",value:function(t,e,n){if(n)this.getShpDbfPrj(t,n,e);else{var r=this,o=i()('<input class="file-in" type="file" multiple>');i()("body").append(o),o.change((function(n){r.getShpDbfPrj(t,n.target.files,e),o.remove()})),o.trigger("click")}}},{key:"getShpDbfPrj",value:function(t,e,n){var r,o,i,a=this;Object.values(e).forEach((function(t){var e=t.name,n=e.substr(e.length-4).toLowerCase();".shp"===n?r=t:".dbf"===n?o=t:".prj"===n&&(i=t)})),r?this.readPrj(i,(function(e){a.readShpDbf(t,r,o,e,n)})):n&&n()}},{key:"readPrj",value:function(t,e){t?this.readTextFile(e,t):e()}},{key:"readShpDbf",value:function(t,e,n,r,o){var i,a,s=this,c=new FileReader;c.onload=function(e){i=e.target.result,(a||!n)&&s.readShp(t,i,a,r,o)};var u=new FileReader;u.onload=function(e){a=e.target.result,i&&s.readShp(t,i,a,r,o)},c.readAsArrayBuffer(e),n&&u.readAsArrayBuffer(n)}},{key:"readShp",value:function(e,n,r,o,i){var a=this,s=[];t.shapefile.open(n,r).then((function(t){t.read().then((function n(r){if(!r.done)return s.push(r.value),t.read().then(n);var c=a.addToMap(e,s,o);i&&i(c)}))})).catch((function(t){console.error(t)}))}},{key:"addToMap",value:function(){throw"Not implemented"}},{key:"customProj",value:function(t,e){if(t){var n=a.a.nextId("shp:prj");return e.defs(n,t),n}}}]),t}();s.shapefile=n(141),e.a=s},80:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(2),l=n(9),f=n(14),p=u.a.proj4,h=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).zoom=t.zoom,r.geolocate=t.geolocate,r.search=t.search,r.locator=t.locator,r.mapLocator=t.mapLocator,r.dialog=new f.a({target:t.dialogTarget}),r.autoLocate=t.autoLocate||!1,r.hookupEvents(),r.locateFromQueryString(document.location.search),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"setLocation",value:function(t){this.mapLocator.setLocation(t)}},{key:"hookupEvents",value:function(){this.locator.on("geocoded",this.located,this),this.locator.on("geolocated",this.located,this),this.locator.on("ambiguous",this.ambiguous,this),this.locator.on("error",this.error,this),this.search.on("disambiguated",this.located,this),this.search.on("search",this.locator.search,this.locator),this.geolocate.on("geolocate",this.locator.locate,this.locator)}},{key:"goTo",value:function(t){if(-1<t.indexOf("EPSG")){t=t.split(",");var e=this.mapLocator.getProjection().getCode(),n=p(t[2],e,[1*t[0],1*t[1]]);this.mapLocator.zoomLocation({coordinate:n})}else this.locator.search(t)}},{key:"locateFromQueryString",value:function(t){var e={};try{(t=decodeURIComponent(t)).substr(1).split("&").forEach((function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}))}catch(t){}e.location?this.goTo(e.location):this.autoLocate&&this.locator.locate()}},{key:"located",value:function(t){var e=this;this.search.val("geolocated"===t.type?"":t.name),t.coordinate?this.mapLocator.zoomLocation(t,(function(){e.trigger(t.type,t)})):this.search.triggerSearch(t.name)}},{key:"ambiguous",value:function(t){t.possible.length?this.search.disambiguate(t):this.dialog.ok({message:'<span class="msg-unk-addr">The location you entered was not understood</span>'})}},{key:"error",value:function(){this.dialog.ok({message:"Failed to contact geocoder"})}}]),e}(l.a);h.Options,e.a=h},81:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this,t.target)).wtf=f()("<div></div>"),f()("body").append(r.wtf),r.itemType=t.itemType||"facilities",r.getContainer().addClass("lst-pg").append(f()(e.HTML)).attr("role","region"),r.items=t.items||[],r.list=r.find(".list"),r.index=0,r.pageSize=t.pageSize||10,r.moreBtn=r.find("button").click(f.a.proxy(r.more,c(r))),r.reset(r.items),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"reset",value:function(t){return this.list.empty(),this.items=t||[],this.index=0,f()(this.moreBtn).fadeIn(),this.next(!0)}},{key:"next",value:function(t,e){e=e||this.pageSize;var n=this.items.slice(this.index,this.index+e),r=this.find(".lst-it").last();return this.index+=e,this.index>=this.items.length-1&&this.moreBtn.fadeOut(),this.render(n),this.info(),t?this.find(".lst-it").first().trigger("focus"):r.next().attr("tabindex",0).trigger("focus"),this.trigger("change",this),n}},{key:"info",value:function(){this.find("h2.info").html("Showing ".concat(this.find(".lst-it").length," of ").concat(this.items.length," ").concat(this.itemType))}},{key:"render",value:function(t){var e=this;t.forEach((function(t){e.list.append(f()('<div class="lst-it" role="listitem"></div>').append(t.html()))}))}},{key:"more",value:function(){return this.next()}}]),e}(n(3).a);p.Options,p.Item,p.HTML='<h2 class="info"></h2><div class="list" role="list"></div><button class="btn rad-all btn-more msg-more">More...</button>',e.a=p},82:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=n(2),h=n(3),y=n(23);n(99);var d=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=c(r=n.call(this,t.target));return fetch(t.url||"./manifest.webmanifest").then((function(t){t.json().then((function(t){t.url=document.location.href,o.append((new y.a).replace(e.HTML,t));var n=p.a.nextId("share");o.btn=o.find(".btn-shr").attr("aria-controls",n).one("click",f.a.proxy(o.show,o)),o.btns=o.btn.next().attr("id",n)}))})),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"show",value:function(t){var e=this;t.stopImmediatePropagation(),this.btn.attr("aria-pressed",!0),this.btns.attr({"aria-collapsed":!1,"aria-expanded":!0}).fadeIn((function(){f()("*").one("click",f.a.proxy(e.hide,e))}))}},{key:"hide",value:function(){var t=this;this.btn.attr("aria-pressed",!1),this.btns.attr("aria-collapsed",!0).attr("aria-expanded",!1).fadeOut((function(){t.btn.one("click",f.a.proxy(t.show,t))}))}}]),e}(h.a);d.Options,d.HTML='<div class="shr" role="region" title="Share this page via social media or email"><a class="btn-shr btn-sq rad-all" role="button" data-msg-key="msg-shr" data-msg-attr="title" href="#" title="Share" aria-pressed="false"><span class="screen-reader-only msg-shr">Share</span></a><div class="btns" aria-expanded="false" aria-collapsed="true"><a class="btn-sq rad-all facebook" role="button" href="https://www.facebook.com/sharer/sharer.php?u=${url}" target="_blank" rel="noopener noreferrer" title="Facebook"><span class="screen-reader-only notranslate" translate="no">Facebook</span></a><a class="btn-sq rad-all twitter" role="button" href="https://twitter.com/intent/tweet?text=${url} @nycgov&source=webclient" target="_blank" rel="noopener noreferrer" title="Twitter"><span class="screen-reader-only notranslate" translate="no">Twitter</span></a><a class="btn-sq rad-all linkedin" role="button" href="http://www.linkedin.com/shareArticle?mini=true&url=${url}" target="_blank" rel="noopener noreferrer" title="LinkedIn"><span class="screen-reader-only notranslate" translate="no">LinkedIn</span></a><a class="btn-sq rad-all tumblr" role="button" href="http://www.tumblr.com/share/link?url=${url}&name=${name}&description=via%20NYC.gov" target="_blank" rel="noopener noreferrer" title="Tumblr"><span class="screen-reader-only notranslate" translate="no">Tumblr</span></a><a class="btn-sq rad-all email" role="button" href="mailto:?subject=${name}&body=${description}%0A%0A${url}" title="email"><span class="screen-reader-only msg-email">Email</span></a></div></div>',e.a=d},83:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=n.call(this,f()(e.HTML)),f()(t).append(r.getContainer()),r.find(".btn-z-in, .btn-z-out").click(f.a.proxy(r.zoom,c(r))),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"zoom",value:function(){throw"Not implemented"}}]),e}(n(3).a);p.HTML='<div class="zoom"><button class="btn-z-in btn-sq rad-all" data-msg-key="msg-z-in" data-msg-attr="title" data-zoom-incr="1" title="Zoom in"><span class="screen-reader-only msg-z-in">Zoom in</span><span class="fas fa-plus" role="img"></span></button><button class="btn-z-out btn-sq rad-all" data-msg-key="msg-z-out" data-msg-attr="title" data-zoom-incr="-1" title="Zoom out"><span class="screen-reader-only msg-z-out">Zoom out</span><span class="fas fa-minus" role="img"></span></button></div>',e.a=p},84:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=n.call(this,f()(e.HTML)),f()(t).append(r.getContainer()),r.find(".btn-geo").click(f.a.proxy(r.geolocate,c(r))),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"geolocate",value:function(){this.trigger("geolocate")}}]),e}(n(3).a);p.HTML='<div class="geoloc"><button class="btn-geo btn-sq rad-all" data-msg-key="msg-geo" data-msg-attr="title" title="Current location"><span class="screen-reader-only msg-geo">Current location</span><span class="fas fa-crosshairs" role="img"></span></button></div>',e.a=p},85:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=n(3),p=n(54),h=n(14),y=function(t){function e(t){var r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=n.call(this,l()(e.HTML)),"INPUT"===(t=l()(t).get(0)).tagName&&(o=t,(t=l()('<div class="map-srch"></div>')).insertAfter(o),r.find(".srch").addClass("input-group")),l()(t).append(r.getContainer()),r.input=r.find("input"),r.clear=r.find(".btn-x"),o&&(r.input.attr("id",l()(o).attr("id")).attr("placeholder",l()(o).attr("placeholder")).addClass(l()(o).attr("class")),l()(o).remove(),r.clear.remove()),r.isAddrSrch=!0,r.list=r.find("ul.rad-all"),r.retention=r.find("ul.retention"),r.autoComplete=null,r.hookupEvents(r.input),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"featureAsLocation",value:function(){throw"Not implemented"}},{key:"val",value:function(t){return"string"==typeof t&&(this.input.val(t),this.clearBtn()),this.input.val()}},{key:"disambiguate",value:function(t){var e=this,n=t.possible;if(n.length){var r=this.list;this.emptyList(),n.forEach((function(t){r.append(e.listItem({layerName:"addr"},t))})),this.showList(!0)}}},{key:"setFeatures",value:function(t){var e=this;this.autoComplete=this.autoComplete||new p.a,t.nameField=t.nameField||"name",t.displayField=t.displayField||t.nameField,t.placeholder&&this.input.attr("placeholder",t.placeholder),this.sortAlphapetically(t).forEach((function(n){var r=e.featureAsLocation(n,t),o=e.listItem(t,r);e.retention.append(o)})),this.emptyList()}},{key:"removeFeatures",value:function(t){this.find("li."+t).remove()}},{key:"sortAlphapetically",value:function(t){var e=[];return t.features.forEach((function(t){t.get?e.push(l.a.extend({},t)):e.push(l.a.extend({get:function(t){return this.properties[t]}},t))})),e.sort((function(e,n){var r=t.nameField;return e.get(r)<n.get(r)?-1:e.get(r)>n.get(r)?1:0})),e}},{key:"listItem",value:function(t,e){var n,r=l()("<li></li>"),o=t.displayField;return e.data&&(n=e.data[o]),n||(n=e.name),r.addClass(t.layerName),"addr"!==t.layerName&&r.addClass("feature"),r.addClass("notranslate").attr({translate:"no","data-id":encodeURIComponent(n)}).html('<a href="#">'.concat(n,"</a>")).data("nameField",t.nameField).data("displayField",o).data("location",e).on("click",this.disambiguated.bind(this)).on("keydown",this.listKey.bind(this))}},{key:"emptyList",value:function(){var t=this.retention;this.find("li").each((function(e,n){0===t.find('li[data-id="'.concat(l()(n).attr("data-id"),'"]')).length&&t.append(n)})),this.list.empty()}},{key:"listKey",value:function(t){var e=t.keyCode;if(13===e||32===e)this.disambiguated(t);else{var n=t.currentTarget,r=this.list.children().first().get(0),o=this.list.children().last().get(0);n!==r&&38===e?l()(l()(n).prev()).find("a").trigger("focus"):n!==o&&40===e&&l()(l()(n).next()).find("a").trigger("focus")}}},{key:"disambiguated",value:function(t){var e=l()(t.currentTarget),n=e.data("location");n&&(this.val(n.name),n.isFeature=e.hasClass("feature"),this.trigger("disambiguated",n),e.parent().slideUp(),this.emptyList())}},{key:"listClick",value:function(t){if(t=t.originalEvent||t,"block"===this.list.css("display")){var e=l()(t.target);l.a.contains(this.list.get(0),e.get(0))?this.autoComplete&&e.trigger("click"):"block"===this.getContainer().css("display")&&this.list.slideUp()}}},{key:"hookupEvents",value:function(t){t.on("keyup change",l.a.proxy(this.key,this)),t.focus((function(){return t.select()})),this.clear.click(l.a.proxy(this.clearTxt,this)),l()(document).mouseup(l.a.proxy(this.listClick,this)),this.find(".btn-srch").click(l.a.proxy(this.triggerSearch,this))}},{key:"key",value:function(t){13===t.keyCode&&this.isAddrSrch?(this.triggerSearch(),this.list.slideUp()):this.filterList(),this.clearBtn()}},{key:"clearTxt",value:function(){this.val(""),this.clearBtn(),this.input.focus()}},{key:"clearBtn",value:function(){this.clear[this.val()?"show":"hide"]()}},{key:"filterList",value:function(){var t=this.val().trim();this.autoComplete&&t?this.autoComplete.filter(this.retention,this.list,t):this.emptyList(),this.showList(!1)}},{key:"showList",value:function(t){var e=this;if("block"===this.getContainer().css("display"))this.list.slideDown((function(){t&&e.list.children().first().find("a").attr("tabindex",0).focus()}));else{var n=l()("<div><strong>Possible matches:</strong></div>");n.append(this.list),this.dialog=this.dialog||new h.a({target:l()(".nyc-map"),css:"posbl"}),this.list.one("click",l.a.proxy(this.dialog.hide,this.dialog)),this.dialog.ok({buttonText:["Cancel"],message:n})}}},{key:"triggerSearch",value:function(t){(t=t||this.val().trim()).length&&(this.input.blur(),this.trigger("search",t))}}]),e}(f.a);y.FeatureSearchOptions,y.HTML='<div class="srch-ctl"><div class="srch" role="search"><input class="rad-all" type="text" data-msg-key="msg-srch" data-msg-attr="placeholder" placeholder="Search for an address..."><button class="btn btn-rnd btn-x"><span class="screen-reader-only msg-clr">Clear</span><span class="fas fa-times" role="img"></span></button><button class="btn btn-srch btn-primary btn-lg">Search</button></div><ul class="rad-all" role="application" label="Possible matches for your search"></ul><ul class="retention"></ul></div>',e.a=y},86:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(0),l=n.n(u),f=function(t){function e(t){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),2!==t.choices.length)throw"ToggleSwitch can only have 2 choices";return t.radio=!0,(r=n.call(this,t)).getContainer().addClass("tog"),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"createContainer",value:function(){return l()(e.HTML)}}]),e}(n(41).a);f.HTML='<div class="chc-chc"><input><label></label></div>',e.a=f},87:function(t){t.exports=window.proj4||{defs:function(){}}},88:function(t){t.exports=ol.layer.Vector},89:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(3>arguments.length?t:n):o.value}}).apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(0),p=n.n(f),h=n(97),y=n(65),d=n.n(y),m=n(9),g=n(23),b=function(t){function e(t){var r;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(r=n.call(this,t)).geocoder=t.geocoder,r.locationTemplate=t.locationTemplate,r.featureCount=void 0,r.geocodedCount=0,r.replace=(new g.a).replace;var o=new m.a;return r.on=p.a.proxy(o.on,o),r.one=p.a.proxy(o.one,o),r.off=p.a.proxy(o.off,o),r.trigger=p.a.proxy(o.trigger,o),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t);var n=c(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"readFeatures",value:function(t,n){var r=i(l(e.prototype),"readFeatures",this).call(this,t,n);return this.featureCount=(this.featureCount||0)+r.length,r}},{key:"setGeocode",value:function(t,e){var n=t.get("_input"),r=t.get("_source");t.set("_geocodeResp",e),"geocoded"===e.type?(console.info("Geocoded:",n,r,"Geocoder response:",e),t.setGeometry(new d.a(e.coordinate))):(console.warn("Ambiguous location:",n,r,"Geocoder response:",e),t.dispatchEvent("change",{target:t}))}},{key:"setGeometry",value:function(t,e){var n=this,r=!1,o=this.replace(this.locationTemplate,e);t.set("_input",o),t.set("_source",e),""===o.replace(/\,/g,"").trim()?(t.dispatchEvent({type:"change",target:t}),console.error("Invalid location:",o,"Bad record:",e)):this.geocoder.search(o).then((function(e){n.setGeocode(t,e),r=!0})).catch((function(t){console.error("Geocoding error:",o,e,"Geocoder response:",t)})).finally((function(){r||t.dispatchEvent({type:"change",target:t}),++n.geocodedCount,n.geocodedCount===n.featureCount&&n.trigger("geocode-complete",n)}))}}]),e}(h.a);b.Options,e.a=b},9:function(t,e,n){"use strict";function r(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var o=n(0),i=n.n(o),a=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.evtHdlrs={}}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"on",value:function(t,e,n){this.addHdlr(t,e,n)}},{key:"one",value:function(t,e,n){this.addHdlr(t,e,n,!0)}},{key:"trigger",value:function(t,e){var n=this.evtHdlrs[t],r=[];n&&(n.forEach((function(t){t.scope?t.handler.call(t.scope,e):t.handler(e),t.remove&&r.push(t)})),r.forEach((function(t){n.splice(i.a.inArray(t,n),1)})))}},{key:"off",value:function(t,e,n){var r=this.evtHdlrs[t];r.forEach((function(t,o){if(t.handler===e&&t.scope===n)return r.splice(o,1),!1}))}},{key:"addHdlr",value:function(t,e,n,r){this.evtHdlrs[t]=this.evtHdlrs[t]||[],this.evtHdlrs[t].push({handler:e,scope:n,remove:r})}}]),t}();a.Handler,e.a=a},94:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(0),f=n.n(l),p=n(127),h=n.n(p),y=n(2),d=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=f()(t.map.getTargetElement()).find(".f-tip").get(0);return(r=n.call(this,{id:y.a.nextId("FeatureTip"),element:o||f()(e.HTML).get(0),stopEvent:!1})).setMap(t.map),r.map=r.getMap(),r.tip=f()(r.getElement()),r.addTips(t.tips),r.map.on("pointermove",f.a.proxy(r.label,c(r))),f()(document).mouseover(f.a.proxy(r.out,c(r))),r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"hide",value:function(){this.tip.fadeOut()}},{key:"addTips",value:function(t){t.forEach((function(t){t.layer.nycTip=t.label}))}},{key:"out",value:function(t){f.a.contains(this.map.getTargetElement(),t.target)||this.hide()}},{key:"label",value:function(t){var e=this.map.forEachFeatureAtPixel(t.pixel,(function(t,e){return e.getVisible()&&e.nycTip?e.nycTip(t):null}));e?(this.tip.html(e.html),this.tip.get(0).className="f-tip ".concat(e.css||""),this.setPosition(t.coordinate),this.tip.show(),this.position()):this.hide()}},{key:"position",value:function(){var t=this.map.getSize(),e=this.map.getPixelFromCoordinate(this.getPosition()),n=this.tip.width(),r=this.tip.height(),o=e[1]+r>t[1]?"bottom":"top",i=e[0]+n>t[0]?"right":"left";this.setPositioning("".concat(o,"-").concat(i))}}]),e}(h.a);d.TipDef,d.LabelFunction,d.Label,d.Options,d.HTML='<div class="f-tip" role="tooltip"></div>',e.a=d},95:function(t){t.exports=ol.format.Feature},96:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=a(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(3>arguments.length?t:n):o.value}}).apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=n(0),h=n.n(p),y=n(21),d=(n.n(y),n(216)),m=n.n(d),g=function(t){function e(t,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=n.call(this,t)).metric=r,o.allFeatures=t.features||[],o.storeFeatures=o.storeFeatures.bind(l(o)),o.on("change:autoload-complete",o.storeFeatures),o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,t);var n=c(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"filter",value:function(t){var e=this.allFeatures.filter((function(e){return t.every((function(t){return t.some((function(t){return-1<h.a.inArray(e.get(t.property),t.values)}))}))}));return this.clear(!0),this.addFeatures(e),e}},{key:"doSort",value:function(t,n){var r=this,o=this.getFeatures();return o.sort((function(o,i){var a=r.distance(t,o.getGeometry()),s=r.distance(t,i.getGeometry());return void 0===n&&(o.set("__distance",a),i.set("__distance",s),h.a.extend(o,e.DistanceDecoration),h.a.extend(i,e.DistanceDecoration)),a.distance<s.distance?-1:a.distance>s.distance?1:0})),0<n?o.slice(0,n):o}},{key:"sort",value:function(t){return this.doSort(t)}},{key:"nearest",value:function(t,e){return this.doSort(t,e)}},{key:"distance",value:function(t,e){if(!e)return{distance:1/0,units:"ft"};var n=new m.a([t,e.getClosestPoint(t)]),r=this.projections(this.getFormat()),o=r[1].getUnits();return r[0]&&"degrees"!==r[0].getUnits()&&(n.transform(r[1],r[0]),o=r[0].getUnits()),"ft"===o||this.metric?{distance:n.getLength(),units:o}:{distance:3.28084*n.getLength(),units:"ft"}}},{key:"projections",value:function(t){var e=t?t.parentFormat:null,n="EPSG:3857",r="EPSG:3857";return e?(n=Object(y.get)(e.dataProjection),r=Object(y.get)(e.featureProjection||"EPSG:3857")):t&&(n=Object(y.get)(t.dataProjection),r=Object(y.get)(t.featureProjection||"EPSG:3857")),[Object(y.get)(n),Object(y.get)(r)]}},{key:"removeFeature",value:function(t){i(f(e.prototype),"removeFeature",this).call(this,t);var n=h.a.inArray(t,this.allFeatures);this.allFeatures.splice(n,1)}},{key:"storeFeatures",value:function(){this.allFeatures=this.getFeatures()}}]),e}(n(135).a);g.Distance,g.Filter,g.DistanceDecoration={getDistance:function(){return this.get("__distance")}},e.a=g},97:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(42),l=n.n(u),f=n(64),p=n.n(f),h=n(95),y=n.n(h),d=n(65),m=n.n(d),g=n(98),b=n(15),v=n(217),w=n.n(v),O=n(21),_=(n.n(O),function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n.call(this)).autoDetect=!0===t.autoDetect,r.dataProjection=Object(O.get)(t.dataProjection||"EPSG:4326"),r.featureProjection=Object(O.get)(t.featureProjection||"EPSG:3857"),r.id=t.id,r.x=t.x,r.y=t.y,r.lastId=0,r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t);var n=a(e);return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"readFeature",value:function(t,e){var n;t[this.id]?n=t[this.id]:(n=this.lastId,this.lastId+=1);var r=new p.a(t);return r.setId(n),this.setGeometry(r,t,e),r}},{key:"setGeometry",value:function(t,e,n){var r=e[this.x]=parseFloat(e[this.x]),o=e[this.y]=parseFloat(e[this.y]);if(isNaN(r)||isNaN(o))throw"Invalid coordinate [".concat(r,", ").concat(o,"] for id ").concat(t.getId());var i=new m.a([r,o]);i.transform(n&&n.dataProjection?n.dataProjection:this.dataProjection,n&&n.featureProjection?n.featureProjection:this.featureProjection),t.setGeometry(i)}},{key:"readFeatures",value:function(t,e){var n=this,r=[];return(t=this.parseSource(t)).forEach((function(t){try{r.push(n.readFeature(t,e))}catch(e){console.error(e,t)}})),r}},{key:"parseSource",value:function(t){t instanceof ArrayBuffer&&(t=(new(w.a.TextDecoder||TextDecoder)).decode(t));return"string"==typeof t&&(t=l.a.parse(t,{header:!0}).data),this.detectCsvFormat(t),t}},{key:"detectCsvFormat",value:function(t){this.autoDetect&&(this.id=b.a.ID,t[0][b.a.X]?(this.x=b.a.X,this.y=b.a.Y,this.dataProjection=Object(O.get)("EPSG:2263")):(this.x=b.a.LNG,this.y=b.a.LAT,this.dataProjection=Object(O.get)("EPSG:4326")))}},{key:"readProjection",value:function(){return this.dataProjection}},{key:"getType",value:function(){return g.a.ARRAY_BUFFER}}]),e}(y.a));_.Options,e.a=_},98:function(t,e){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},99:function(t,e,n){n(140),t.exports=self.fetch.bind(self)}});